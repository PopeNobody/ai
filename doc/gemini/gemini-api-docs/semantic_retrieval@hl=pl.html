<!doctype html>
<html 
      lang="pl-x-mtfrom-en"
      dir="ltr">
  <head>
    <meta name="google-signin-client-id" content="157101835696-ooapojlodmuabs2do2vuhhnf90bccmoi.apps.googleusercontent.com">
    <meta name="google-signin-scope"
          content="profile email https://www.googleapis.com/auth/developerprofiles https://www.googleapis.com/auth/developerprofiles.award">
    <meta property="og:site_name" content="Google AI for Developers">
    <meta property="og:type" content="website"><meta name="theme-color" content="#1967d2"><meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    

    <link rel="manifest" href="/_pwa/googledevai/manifest.json"
          crossorigin="use-credentials">
    <link rel="preconnect" href="//www.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="//apis.google.com" crossorigin>
    <link rel="preconnect" href="//www.google-analytics.com" crossorigin><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Google+Sans:400,500|Roboto:400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700&display=swap">
      <link rel="stylesheet"
            href="//fonts.googleapis.com/css2?family=Material+Icons&family=Material+Symbols+Outlined&display=block"><link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/googledevai/css/app.css">
      <link rel="shortcut icon" href="https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/googledevai/images/favicon-new.png">
    <link rel="apple-touch-icon" href="https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/googledevai/images/touchicon-180-new.png"><link rel="canonical" href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=pl"><link rel="search" type="application/opensearchdescription+xml"
            title="Google AI for Developers" href="https://ai.google.dev/s/opensearch.xml?hl=pl">
      <link rel="alternate" hreflang="en"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval" /><link rel="alternate" hreflang="x-default" href="https://ai.google.dev/gemini-api/docs/semantic_retrieval" /><link rel="alternate" hreflang="ar"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=ar" /><link rel="alternate" hreflang="bn"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=bn" /><link rel="alternate" hreflang="zh-Hans"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=zh-cn" /><link rel="alternate" hreflang="zh-Hant"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=zh-tw" /><link rel="alternate" hreflang="fa"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=fa" /><link rel="alternate" hreflang="fr"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=fr" /><link rel="alternate" hreflang="de"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=de" /><link rel="alternate" hreflang="he"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=he" /><link rel="alternate" hreflang="hi"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=hi" /><link rel="alternate" hreflang="id"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=id" /><link rel="alternate" hreflang="it"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=it" /><link rel="alternate" hreflang="ja"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=ja" /><link rel="alternate" hreflang="ko"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=ko" /><link rel="alternate" hreflang="pl"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=pl" /><link rel="alternate" hreflang="pt-BR"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=pt-br" /><link rel="alternate" hreflang="ru"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=ru" /><link rel="alternate" hreflang="es-419"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=es-419" /><link rel="alternate" hreflang="th"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=th" /><link rel="alternate" hreflang="tr"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=tr" /><link rel="alternate" hreflang="vi"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=vi" /><title>Pierwsze kroki z pobieraniem semantycznym &nbsp;|&nbsp; Gemini API &nbsp;|&nbsp; Google AI for Developers</title>

<meta property="og:title" content="Pierwsze kroki z pobieraniem semantycznym &nbsp;|&nbsp; Gemini API &nbsp;|&nbsp; Google AI for Developers"><meta property="og:url" content="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=pl"><meta property="og:image" content="https://ai.google.dev/static/site-assets/images/share.png?hl=pl">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="675"><meta property="og:locale" content="pl"><meta name="twitter:card" content="summary_large_image"><script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    
    "headline": "Pierwsze kroki z pobieraniem semantycznym"
  }
</script><script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [{
      "@type": "ListItem",
      "position": 1,
      "name": "Gemini API",
      "item": "https://ai.google.dev/gemini-api"
    },{
      "@type": "ListItem",
      "position": 2,
      "name": "Pierwsze kroki z pobieraniem semantycznym",
      "item": "https://ai.google.dev/gemini-api/docs/semantic_retrieval"
    }]
  }
  </script><link rel="alternate machine-translated-from" hreflang="en"
        href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=en">
  

  

  

  

  


    
      <link rel="stylesheet" href="/extras.css"></head>
  <body class=""
        template="page"
        theme="googledevai-theme"
        type="article"
        
        
        
        layout="docs"
        
        
        
        
        display-toc
        pending>
    <devsite-progress type="indeterminate" id="app-progress"></devsite-progress>
  
    <section class="devsite-wrapper">
      <devsite-cookie-notification-bar></devsite-cookie-notification-bar><devsite-header role="banner" keep-tabs-visible>
  
    























<div class="devsite-header--inner nocontent">
  <div class="devsite-top-logo-row-wrapper-wrapper">
    <div class="devsite-top-logo-row-wrapper">
      <div class="devsite-top-logo-row">
        <button type="button" id="devsite-hamburger-menu"
          class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Navigation menu button"
          visually-hidden
          aria-label="Otwórz menu">
        </button>
        <div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="geminiAPI" track-metadata-position="nav"
   track-metadata-eventDetail="nav">
  
  <picture>
    
    <img src="https://ai.google.dev/_static/googledevai/images/lockup-new.svg?hl=pl" class="devsite-site-logo" alt="Gemini API">
  </picture>
  
</a>



  
  
  <span class="devsite-product-name">
    <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
      
    
  </li>
  
</ul>
  </span>

</div>
        <div class="devsite-top-logo-row-middle">
          <div class="devsite-header-upper-tabs">
            
              
              
  <devsite-tabs class="upper-tabs">

    <nav class="devsite-tabs-wrapper" aria-label="Górne karty">
      
        
          <tab  class="devsite-active">
            
    <a href="https://ai.google.dev/gemini-api/docs?hl=pl"
      track-metadata-eventdetail="https://ai.google.dev/gemini-api/docs?hl=pl"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - gemini api"
       track-metadata-module="primary nav"
       aria-label="Gemini API, selected" 
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Gemini API"
         
           track-name="gemini api"
         
       >
    Gemini API
  
    </a>
  
  
          </tab>
        
      
        
          <tab  >
            
    <a href="https://aistudio.google.com?hl=pl"
      track-metadata-eventdetail="https://aistudio.google.com?hl=pl"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - google ai studio"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Google AI Studio"
         
           track-name="google ai studio"
         
       >
    Google AI Studio
  
    </a>
  
  
          </tab>
        
      
        
          <tab  >
            
    <a href="https://ai.google.dev/gemma?hl=pl"
      track-metadata-eventdetail="https://ai.google.dev/gemma?hl=pl"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - joanna"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Joanna"
         
           track-name="joanna"
         
       >
    Joanna
  
    </a>
  
  
          </tab>
        
      
        
          <tab  >
            
    <a href="https://ai.google.dev/edge?hl=pl"
      track-metadata-eventdetail="https://ai.google.dev/edge?hl=pl"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - google ai edge"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Google AI Edge"
         
           track-name="google ai edge"
         
       >
    Google AI Edge
  
    </a>
  
  
          </tab>
        
      
        
          <tab class="devsite-dropdown
    
    
    
    ">
  
    <span
  
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - narzędzia"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Narzędzia"
         
           track-name="narzędzia"
         
       >
    Narzędzia
  
    </span>
  
  
    <a href="#"
       role="button"
       aria-haspopup="true"
       aria-expanded="false"
       aria-label="Menu dla Narzędzia"
       track-type="nav"
       track-metadata-eventdetail=""
       track-metadata-position="nav - narzędzia"
       track-metadata-module="primary nav"
       
        
          data-category="Site-Wide Custom Events"
        
          data-label="Tab: Narzędzia"
        
          track-name="narzędzia"
        
      
       class="devsite-tabs-dropdown-toggle devsite-icon devsite-icon-arrow-drop-down"></a>
  
  <div class="devsite-tabs-dropdown" aria-label="submenu" hidden>
    
    <div class="devsite-tabs-dropdown-content">
      
        <div class="devsite-tabs-dropdown-column
                    ">
          
            <ul class="devsite-tabs-dropdown-section
                       ">
              
              
              
                <li class="devsite-nav-item">
                  <a href="https://ai.google.dev/responsible?hl=pl"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://ai.google.dev/responsible?hl=pl"
                     track-metadata-position="nav - narzędzia"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Zestaw narzędzi generatywnej AI
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://colab.google/?hl=pl"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://colab.google/?hl=pl"
                     track-metadata-position="nav - narzędzia"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Colab
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/genkit?hl=pl"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://firebase.google.com/docs/genkit?hl=pl"
                     track-metadata-position="nav - narzędzia"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Firebase Genkit
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://jax.readthedocs.io/"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://jax.readthedocs.io/"
                     track-metadata-position="nav - narzędzia"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      JAX
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://keras.io/"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://keras.io/"
                     track-metadata-position="nav - narzędzia"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Keras
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://www.tensorflow.org/?hl=pl"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://www.tensorflow.org/?hl=pl"
                     track-metadata-position="nav - narzędzia"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      TensorFlow
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
    </div>
  </div>
</tab>
        
      
        
          <tab  >
            
    <a href="https://discuss.ai.google.dev/?hl=pl"
      track-metadata-eventdetail="https://discuss.ai.google.dev/?hl=pl"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - społeczność"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Społeczność"
         
           track-name="społeczność"
         
       >
    Społeczność
  
    </a>
  
  
          </tab>
        
      
    </nav>

  </devsite-tabs>

            
           </div>
          
<devsite-search
    enable-signin
    enable-search
    enable-suggestions
      enable-query-completion
    
    
    project-name="Gemini API"
    tenant-name="Google AI for Developers"
    
    
    
    
    
    >
  <form class="devsite-search-form" action="https://ai.google.dev/s/results?hl=pl" method="GET">
    <div class="devsite-search-container">
      <button type="button"
              search-open
              class="devsite-search-button devsite-header-icon-button button-flat material-icons"
              
              aria-label="Otwórz wyszukiwanie"></button>
      <div class="devsite-searchbox">
        <input
          aria-activedescendant=""
          aria-autocomplete="list"
          
          aria-label="Wyniki wyszukiwania"
          aria-expanded="false"
          aria-haspopup="listbox"
          autocomplete="off"
          class="devsite-search-field devsite-search-query"
          name="q"
          
          placeholder="Wyniki wyszukiwania"
          role="combobox"
          type="text"
          value=""
          >
          <div class="devsite-search-image material-icons" aria-hidden="true">
            
          </div>
          <div class="devsite-search-shortcut-icon-container" aria-hidden="true">
            <kbd class="devsite-search-shortcut-icon">/</kbd>
          </div>
      </div>
    </div>
  </form>
  <button type="button"
          search-close
          class="devsite-search-button devsite-header-icon-button button-flat material-icons"
          
          aria-label="Zamknij wyszukiwanie"></button>
</devsite-search>

        </div>

        

        

        

        
<devsite-language-selector>
  <ul role="presentation">
    
    
    <li role="presentation">
      <a role="menuitem" lang="en"
        >English</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="de"
        >Deutsch</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="es_419"
        >Español – América Latina</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="fr"
        >Français</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="id"
        >Indonesia</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="it"
        >Italiano</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pl"
        >Polski</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pt_br"
        >Português – Brasil</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="vi"
        >Tiếng Việt</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="tr"
        >Türkçe</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ru"
        >Русский</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="he"
        >עברית</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ar"
        >العربيّة</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="fa"
        >فارسی</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="hi"
        >हिंदी</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="bn"
        >বাংলা</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="th"
        >ภาษาไทย</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_cn"
        >中文 – 简体</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_tw"
        >中文 – 繁體</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ja"
        >日本語</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ko"
        >한국어</a>
    </li>
    
  </ul>
</devsite-language-selector>


        

        
          
          
          <devsite-user 
                        
                        
                          enable-profiles
                        
                        
                        id="devsite-user">
            
              
              <span class="button devsite-top-button" aria-hidden="true" visually-hidden>Zaloguj się</span>
            
        </devsite-user>
           
        
      </div>
    </div>
  </div>



  <div class="devsite-collapsible-section
    ">
    <div class="devsite-header-background">
      
        
      
      
        <div class="devsite-doc-set-nav-row">
          
          
            
            
  <devsite-tabs class="lower-tabs">

    <nav class="devsite-tabs-wrapper" aria-label="Dolne karty">
      
        
          <tab  class="devsite-active">
            
    <a href="https://ai.google.dev/gemini-api/docs?hl=pl"
      track-metadata-eventdetail="https://ai.google.dev/gemini-api/docs?hl=pl"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - dokumenty"
       track-metadata-module="primary nav"
       aria-label="Dokumenty, selected" 
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Dokumenty"
         
           track-name="dokumenty"
         
       >
    Dokumenty
  
    </a>
  
  
          </tab>
        
      
        
          <tab  >
            
    <a href="https://ai.google.dev/api?hl=pl"
      track-metadata-eventdetail="https://ai.google.dev/api?hl=pl"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - dokumentacja api"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Dokumentacja API"
         
           track-name="dokumentacja api"
         
       >
    Dokumentacja API
  
    </a>
  
  
          </tab>
        
      
        
          <tab  >
            
    <a href="https://ai.google.dev/pricing?hl=pl"
      track-metadata-eventdetail="https://ai.google.dev/pricing?hl=pl"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - ceny"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Ceny"
         
           track-name="ceny"
         
       >
    Ceny
  
    </a>
  
  
          </tab>
        
      
    </nav>

  </devsite-tabs>

          
          
        </div>
      
    </div>
  </div>

</div>



  

  
</devsite-header>
      <devsite-book-nav scrollbars >
        
          





















<div class="devsite-book-nav-filter"
     hidden>
  <span class="filter-list-icon material-icons" aria-hidden="true"></span>
  <input type="text"
         placeholder="Filtr"
         
         aria-label="Wpisz, aby przefiltrować"
         role="searchbox">
  
  <span class="filter-clear-button hidden"
        data-title="Wyczyść filtr"
        aria-label="Wyczyść filtr"
        role="button"
        tabindex="0"></span>
</div>

<nav class="devsite-book-nav devsite-nav nocontent"
     aria-label="Boczne menu">
  <div class="devsite-mobile-header">
    <button type="button"
            id="devsite-close-nav"
            class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Close navigation"
            aria-label="Zamknij nawigację">
    </button>
    <div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="geminiAPI" track-metadata-position="nav"
   track-metadata-eventDetail="nav">
  
  <picture>
    
    <img src="https://ai.google.dev/_static/googledevai/images/lockup-new.svg?hl=pl" class="devsite-site-logo" alt="Gemini API">
  </picture>
  
</a>


  
      <span class="devsite-product-name">
        
        
        <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
      
    
  </li>
  
</ul>
      </span>
    

</div>
  </div>

  <div class="devsite-book-nav-wrapper">
    <div class="devsite-mobile-nav-top">
      
        <ul class="devsite-nav-list">
          
            <li class="devsite-nav-item">
              
  
  <a href="/gemini-api/docs"
    
       class="devsite-nav-title gc-analytics-event
              
              devsite-nav-active"
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Gemini API"
      
        track-name="gemini api"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Gemini API"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Gemini API
   </span>
    
  
  </a>
  

  
              
                <ul class="devsite-nav-responsive-tabs">
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/gemini-api/docs"
    
       class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children
              devsite-nav-active"
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Dokumenty"
      
        track-name="dokumenty"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Dokumenty"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip menu="_book">
      Dokumenty
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          menu="_book">
    </span>
    
  
  </a>
  

  
                    </li>
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/api"
    
       class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children
              "
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Dokumentacja API"
      
        track-name="dokumentacja api"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Dokumentacja API"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Dokumentacja API
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          >
    </span>
    
  
  </a>
  

  
                    </li>
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/pricing"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Ceny"
      
        track-name="ceny"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Ceny"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Ceny
   </span>
    
  
  </a>
  

  
                    </li>
                  
                </ul>
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="https://aistudio.google.com"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Google AI Studio"
      
        track-name="google ai studio"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google AI Studio"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Google AI Studio
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/gemma"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Joanna"
      
        track-name="joanna"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Joanna"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Joanna
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/edge"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Google AI Edge"
      
        track-name="google ai edge"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google AI Edge"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Google AI Edge
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Narzędzia"
      
        track-name="narzędzia"
      
    >
  
    <span class="devsite-nav-text" tooltip >
      Narzędzia
   </span>
    
  
  </span>
  

  
    <ul class="devsite-nav-responsive-tabs devsite-nav-has-menu
               ">
      
<li class="devsite-nav-item">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Narzędzia"
      
        track-name="narzędzia"
      
    >
  
    <span class="devsite-nav-text" tooltip menu="Narzędzia">
      Więcej
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          menu="Narzędzia">
    </span>
    
  
  </span>
  

</li>

    </ul>
  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="https://discuss.ai.google.dev/"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Społeczność"
      
        track-name="społeczność"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Społeczność"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Społeczność
   </span>
    
  
  </a>
  

  
              
            </li>
          
          
          
        </ul>
      
    </div>
    
      <div class="devsite-mobile-nav-bottom">
        
          
          <ul class="devsite-nav-list" menu="_book">
            <li class="devsite-nav-item"><a href="/gemini-api/docs"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs"
      ><span class="devsite-nav-text" tooltip>Przegląd</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Rozpocznij</span>
      </div></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/api-key"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/api-key"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/api-key"
      ><span class="devsite-nav-text" tooltip>Klucze interfejsu API</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/quickstart"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/quickstart"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/quickstart"
      ><span class="devsite-nav-text" tooltip>Krótkie wprowadzenie</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/downloads"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/downloads"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/downloads"
      data-synonyms="SDKs, python, go, node.js, node, typescript, flutter, dart, install, library, libraries, swift, android"><span class="devsite-nav-text" tooltip>Biblioteki</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/changelog"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/changelog"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/changelog"
      ><span class="devsite-nav-text" tooltip>Informacje o wersjach</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Modele</span>
      </div></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/models/gemini"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/models/gemini"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/models/gemini"
      data-synonyms="gemini-pro, gemini-pro-1.0, gemini-pro-vision, gemini 1.5 flash, gemini-1.5-flash, gemini, flash, pro, gemini-pro-1.5, gemini pro, text embedding, text embeddings, text-embedding-004"><span class="devsite-nav-text" tooltip>Gemini</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-experimental"><a href="/gemini-api/docs/models/experimental-models"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/models/experimental-models"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/models/experimental-models"
      ><span class="devsite-nav-text" tooltip>Modele eksperymentalne</span><span class="devsite-nav-icon material-icons"
        data-icon="experimental"
        data-title="Funkcja eksperymentalna"
        aria-hidden="true"></span></a></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Możliwości</span>
      </div></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/text-generation"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/text-generation"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/text-generation"
      ><span class="devsite-nav-text" tooltip>Generowanie tekstu</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/document-processing"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/document-processing"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/document-processing"
      ><span class="devsite-nav-text" tooltip>Przetwarzanie dokumentów</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/vision"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/vision"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/vision"
      ><span class="devsite-nav-text" tooltip>Vision</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/audio"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/audio"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/audio"
      ><span class="devsite-nav-text" tooltip>Audio</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/long-context"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/long-context"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/long-context"
      ><span class="devsite-nav-text" tooltip>Długi kontekst</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Osadzanie w kontekście</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/gemini-api/docs/grounding"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/grounding"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/grounding"
      ><span class="devsite-nav-text" tooltip>Grounding z użyciem wyszukiwarki Google</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/docs/grounding/search-suggestions"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/grounding/search-suggestions"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/grounding/search-suggestions"
      ><span class="devsite-nav-text" tooltip>Korzystanie z sugestii wyszukiwarki Google</span></a></li></ul></div></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/code-execution"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/code-execution"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/code-execution"
      ><span class="devsite-nav-text" tooltip>Wykonanie kodu</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/structured-output"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/structured-output"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/structured-output"
      ><span class="devsite-nav-text" tooltip>Uporządkowane dane wyjściowe</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Dostrajanie</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/gemini-api/docs/model-tuning"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/model-tuning"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/model-tuning"
      ><span class="devsite-nav-text" tooltip>Wprowadzenie do dostrajania</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/docs/model-tuning/tutorial"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/model-tuning/tutorial"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/model-tuning/tutorial"
      ><span class="devsite-nav-text" tooltip>Samouczek dostrajania</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Wywoływanie funkcji</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/gemini-api/docs/function-calling"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/function-calling"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/function-calling"
      ><span class="devsite-nav-text" tooltip>Wprowadzenie do wywoływania funkcji</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/docs/function-calling/tutorial"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/function-calling/tutorial"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/function-calling/tutorial"
      ><span class="devsite-nav-text" tooltip>Samouczek wywoływania funkcji</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/tutorials/extract_structured_data"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/tutorials/extract_structured_data"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/tutorials/extract_structured_data"
      ><span class="devsite-nav-text" tooltip>Wyodrębnianie uporządkowanych danych</span></a></li></ul></div></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/system-instructions"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/system-instructions"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/system-instructions"
      ><span class="devsite-nav-text" tooltip>Instrukcje systemowe</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/embeddings"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/embeddings"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/embeddings"
      ><span class="devsite-nav-text" tooltip>Osadzone elementy</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Bezpieczeństwo</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/gemini-api/docs/safety-settings"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/safety-settings"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/safety-settings"
      ><span class="devsite-nav-text" tooltip>Ustawienia bezpieczeństwa</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/docs/safety-guidance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/safety-guidance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/safety-guidance"
      ><span class="devsite-nav-text" tooltip>Wskazówki dotyczące bezpieczeństwa</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Przewodniki</span>
      </div></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/caching"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/caching"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/caching"
      ><span class="devsite-nav-text" tooltip>Buforowanie kontekstu</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/imagen"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/imagen"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/imagen"
      ><span class="devsite-nav-text" tooltip>Imagen 3</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/tokens"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/tokens"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/tokens"
      ><span class="devsite-nav-text" tooltip>Tokeny</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Prompt</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/gemini-api/docs/prompting-intro"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/prompting-intro"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/prompting-intro"
      ><span class="devsite-nav-text" tooltip>Wprowadzenie do promptów</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/docs/prompting-strategies"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/prompting-strategies"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/prompting-strategies"
      ><span class="devsite-nav-text" tooltip>Strategie dotyczące promptów</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/docs/file-prompting-strategies"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/file-prompting-strategies"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/file-prompting-strategies"
      ><span class="devsite-nav-text" tooltip>Strategie dotyczące próśb o zgodę na wykorzystanie plików</span></a></li></ul></div></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/semantic_retrieval"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/semantic_retrieval"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/semantic_retrieval"
      ><span class="devsite-nav-text" tooltip>Pobieranie semantyczne</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/models/generative-models"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/models/generative-models"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/models/generative-models"
      ><span class="devsite-nav-text" tooltip>Informacje o modelach generatywnych</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/billing"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/billing"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/billing"
      ><span class="devsite-nav-text" tooltip>Płatności</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-experimental"><a href="/gemini-api/docs/openai"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/openai"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/openai"
      ><span class="devsite-nav-text" tooltip>Zgodność z OpenAI</span><span class="devsite-nav-icon material-icons"
        data-icon="experimental"
        data-title="Funkcja eksperymentalna"
        aria-hidden="true"></span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/migrate-to-cloud"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/migrate-to-cloud"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/migrate-to-cloud"
      ><span class="devsite-nav-text" tooltip>Migracja do Cloud</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Dodatkowe materiały</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/gemini-api/docs/ai-studio-quickstart"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/ai-studio-quickstart"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/ai-studio-quickstart"
      ><span class="devsite-nav-text" tooltip>Krótkie wprowadzenie do Google AI Studio</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/docs/get-started/android_aicore"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/get-started/android_aicore"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/get-started/android_aicore"
      ><span class="devsite-nav-text" tooltip>Android (na urządzeniu)</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/docs/firebase-extensions"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/firebase-extensions"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/firebase-extensions"
      ><span class="devsite-nav-text" tooltip>Rozszerzenia Firebase</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/docs/oauth"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/oauth"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/oauth"
      ><span class="devsite-nav-text" tooltip>Uwierzytelnianie OAuth</span></a></li><li class="devsite-nav-item
           devsite-nav-experimental"><a href="/gemini-api/docs/learnlm"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/learnlm"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/learnlm"
      ><span class="devsite-nav-text" tooltip>LearnLM</span><span class="devsite-nav-icon material-icons"
        data-icon="experimental"
        data-title="Funkcja eksperymentalna"
        aria-hidden="true"></span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Przypadki użycia</span>
      </div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Aplikacje</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/gemini-api/tutorials/pipet-code-agent"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/tutorials/pipet-code-agent"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/tutorials/pipet-code-agent"
      ><span class="devsite-nav-text" tooltip>Asystent kodu</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/tutorials/flutter-theme-agent"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/tutorials/flutter-theme-agent"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/tutorials/flutter-theme-agent"
      ><span class="devsite-nav-text" tooltip>Generator kodu Flutter</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/tutorials/docs-agent"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/tutorials/docs-agent"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/tutorials/docs-agent"
      ><span class="devsite-nav-text" tooltip>Wyszukiwanie treści</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/tutorials/sql-talk"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/tutorials/sql-talk"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/tutorials/sql-talk"
      ><span class="devsite-nav-text" tooltip>Agent eksploracji danych</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/tutorials/wordcraft"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/tutorials/wordcraft"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/tutorials/wordcraft"
      ><span class="devsite-nav-text" tooltip>Asystent do pisania</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/tutorials/slides-advisor"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/tutorials/slides-advisor"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/tutorials/slides-advisor"
      ><span class="devsite-nav-text" tooltip>Recenzent Prezentacji</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Rozwiązywanie problemów</span>
      </div></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/troubleshooting"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/troubleshooting"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/troubleshooting"
      ><span class="devsite-nav-text" tooltip>Rozwiązywanie problemów z interfejsem API</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/troubleshoot-ai-studio"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/troubleshoot-ai-studio"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/troubleshoot-ai-studio"
      ><span class="devsite-nav-text" tooltip>Rozwiązywanie problemów z AI Studio</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/workspace"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/workspace"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/workspace"
      ><span class="devsite-nav-text" tooltip>AI Studio w Google Workspace</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/quota"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/quota"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/quota"
      ><span class="devsite-nav-text" tooltip>Zgłaszanie prośby o dodatkowy limit</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Społeczność</span>
      </div></li>

  <li class="devsite-nav-item
           devsite-nav-external"><a href="https://discuss.ai.google.dev/"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: https://discuss.ai.google.dev/"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="https://discuss.ai.google.dev/"
      ><span class="devsite-nav-text" tooltip>Forum dla programistów</span><span class="devsite-nav-icon material-icons"
        data-icon="external"
        data-title="Witryna zewnętrzna"
        aria-hidden="true"></span></a></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Legal</span>
      </div></li>

  <li class="devsite-nav-item"><a href="/gemini-api/terms"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/terms"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/terms"
      ><span class="devsite-nav-text" tooltip>Warunki korzystania z usługi</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/available-regions"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/available-regions"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/available-regions"
      ><span class="devsite-nav-text" tooltip>Regiony, w których działa ta usługa</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/abuse-monitoring"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/abuse-monitoring"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/abuse-monitoring"
      ><span class="devsite-nav-text" tooltip>Monitorowanie nadużyć</span></a></li>
          </ul>
        
        
          
    
  
    
  
    
  
    
  
    
      
      <ul class="devsite-nav-list" menu="Narzędzia"
          aria-label="Boczne menu" hidden>
        
          
            
            
              
<li class="devsite-nav-item">

  
  <a href="/responsible"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Zestaw narzędzi generatywnej AI"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Zestaw narzędzi generatywnej AI
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="https://colab.google/"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Colab"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Colab
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="https://firebase.google.com/docs/genkit"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Firebase Genkit"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Firebase Genkit
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="https://jax.readthedocs.io/"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: JAX"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      JAX
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="https://keras.io/"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Keras"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Keras
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="https://www.tensorflow.org/"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: TensorFlow"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      TensorFlow
   </span>
    
  
  </a>
  

</li>

            
          
        
      </ul>
    
  
    
  
        
        
          
    
  
    
  
    
  
        
      </div>
    
  </div>
</nav>
        
      </devsite-book-nav>
      <section id="gc-wrapper">
        <main role="main" class="devsite-main-content"
            
              has-book-nav
              has-sidebar
            >
          
          
          <div class="devsite-sidebar">
            <div class="devsite-sidebar-content">
                
                <devsite-toc class="devsite-nav"
                            role="navigation"
                            aria-label="Na tej stronie"
                            depth="2"
                            scrollbars
                  ></devsite-toc>
                <devsite-recommendations-sidebar class="nocontent devsite-nav">
                </devsite-recommendations-sidebar>
            </div>
          </div>
          
          <devsite-content>
            
              














<article class="devsite-article">
  
  
  
    <div class="devsite-banner devsite-banner-announcement nocontent"
      
        
    background="google-blue"
  
      >
      <div class="devsite-banner-message">
        <div class="devsite-banner-message-text">
          
    Funkcja groundingu przy użyciu wyszukiwarki Google jest już dostępna. <a class="button button-primary"   href="https://developers.googleblog.com/en/gemini-api-and-ai-studio-now-offer-grounding-with-google-search">Więcej informacji</a>

  
        </div>
      </div>
    </div>
  
  
  
    <div class="devsite-banner devsite-banner-translated nocontent">
      <div class="devsite-banner-message">
        <div class="devsite-banner-message-text">
          <img src="https://ai.google.dev/_static/images/translated.svg?hl=pl"
               class="devsite-banner-translated-image invert"
               alt="">
          <span class="devsite-banner-translated-text">
            
            Ta strona została przetłumaczona przez <a href="//cloud.google.com/translate/?hl=pl">Cloud Translation API</a>.
          </span>
        </div>
        <devsite-switch-to-english-button></devsite-switch-to-english-button>
      </div>
    </div>
  

  <div class="devsite-article-meta nocontent" role="navigation">
    
    
    <ul class="devsite-breadcrumb-list"
  
    aria-label="Menu nawigacyjne">
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
  <a href="https://ai.google.dev/?hl=pl"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="1"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="1"
      
        track-metadata-eventdetail=""
      
    >
    
        Strona główna
      
  </a>
  
    
  </li>
  
  <li class="devsite-breadcrumb-item
             ">
    
      
      <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
    
    
    
      
  <a href="https://ai.google.dev/gemini-api?hl=pl"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="2"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="2"
      
        track-metadata-eventdetail="Gemini API"
      
    >
    
        Gemini API
      
  </a>
  
    
  </li>
  
  <li class="devsite-breadcrumb-item
             ">
    
      
      <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
    
    
    
      
  <a href="https://ai.google.dev/gemini-api/docs?hl=pl"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="3"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="3"
      
        track-metadata-eventdetail=""
      
    >
    
        Dokumenty
      
  </a>
  
    
  </li>
  
</ul>
    
      
    <devsite-thumb-rating position="header">
    </devsite-thumb-rating>
  
    
  </div>
  
    <devsite-feedback
  position="header"
  project-name="Gemini API"
  product-id="5292923"
  bucket="documentation"
  context=""
  version="t-devsite-webserver-20241114-r00-rc02.464921008191574316"
  data-label="Send Feedback Button"
  track-type="feedback"
  track-name="sendFeedbackLink"
  track-metadata-position="header"
  class="nocontent"
  
  
  
    project-icon="https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/googledevai/images/touchicon-180-new.png"
  
  
  
  >

  <button>
  
    
    Prześlij opinię
  
  </button>
</devsite-feedback>
  
    <h1 class="devsite-page-title" tabindex="-1">
      Pierwsze kroki z pobieraniem semantycznym
      
    </h1>
  <devsite-feature-tooltip
      ack-key="AckCollectionsBookmarkTooltipDismiss"
      analytics-category="Site-Wide Custom Events"
      analytics-action-show="Callout Profile displayed"
      analytics-action-close="Callout Profile dismissed"
      analytics-label="Create Collection Callout"
      class="devsite-page-bookmark-tooltip nocontent"
      dismiss-button="true"
      id="devsite-collections-dropdown"
      
      dismiss-button-text="Odrzuć"

      
      close-button-text="OK">

    
    <devsite-bookmark></devsite-bookmark>

    <span slot="popout-heading">
      
      Zadbaj o dobrą organizację dzięki kolekcji
    </span>
    <span slot="popout-contents">
      
      Zapisuj i kategoryzuj treści zgodnie ze swoimi preferencjami.
    </span>
  </devsite-feature-tooltip>
  <div class="devsite-page-title-meta"><devsite-view-release-notes></devsite-view-release-notes></div>
  

  <devsite-toc class="devsite-nav"
    depth="2"
    devsite-toc-embedded
    >
  </devsite-toc>
  
    
  

  






<div class="devsite-article-body clearfix
  ">

  
    
    
<p><devsite-mathjax config="TeX-AMS-MML_SVG"></devsite-mathjax>

</p>



<table align="left" class="tfo-notebook-buttons">
  <tbody><tr><td>
    <a href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=pl"target="_blank"><img height="32" src="https://ai.google.dev/static/site-assets/images/docs/notebook-site-button.png?hl=pl" width="32" />Wyświetl na stronie ai.google.dev</a>
 </td><td>
    <a href="https://colab.research.google.com/github/google/generative-ai-docs/blob/main/site/en/gemini-api/docs/semantic_retrieval.ipynb?hl=pl"target="_blank"><img src="https://www.tensorflow.org/images/colab_logo_32px.png?hl=pl" />Wypróbuj notatnik Colab</a>
  </td>
  <td>
    <a href="https://github.com/google/generative-ai-docs/blob/main/site/en/gemini-api/docs/semantic_retrieval.ipynb"target="_blank"><img src="https://www.tensorflow.org/images/GitHub-Mark-32px.png?hl=pl" />Wyświetl notatnik na GitHubie</a>
  </td>
</tr></tbody></table>

<h2 data-text="Omówienie" id="overview" tabindex="-1">Omówienie</h2>

<p>Duże modele językowe (LLM) mogą uczyć się nowych umiejętności bez bezpośredniego trenowania na ich podstawie. Jednak zdarza się, że LLM „halucynują”, gdy mają udzielić odpowiedzi na pytania, na które nie były trenowane. Wynika to częściowo z tego, że duże modele językowe nie wiedzą o zdarzeniach po trenowaniu. Trudno też jest zidentyfikować źródła, z których modele LLM czerpią odpowiedzi. W przypadku niezawodnych, skalowanych aplikacji ważne jest, aby model LLM dostarczał odpowiedzi opartych na faktach i był w stanie podać źródła informacji.</p>

<p>Typowym podejściem do pokonywania tych ograniczeń jest generowanie rozszerzone przez wyszukiwanie (RAG), które wzbogaca prompt wysyłany do modelu LLM o odpowiednie dane pobrane z zewnętrznej bazy wiedzy za pomocą mechanizmu wyszukiwania informacji (IR). Baza wiedzy może być Twoim własnym zbiorem dokumentów, baz danych lub interfejsów API.</p>

<p>Ten notatnik zawiera omówienie procesu, który pozwala poprawić odpowiedź LLM poprzez rozszerzenie jej wiedzy o zewnętrzne korpusy tekstowe i wyszukiwanie informacji semantycznych w celu udzielenia odpowiedzi na pytania za pomocą interfejsów Semantic Retriever i Attributed Question Answering (AQA) interfejsu Generative Language API.</p>
<aside class="note"><strong>Uwaga:</strong><span> ta usługa API jest obecnie w wersji <a href="https://ai.google.dev/gemini-api/docs/api-versions?hl=pl">beta</a> i <a href="https://ai.google.dev/gemini-api/docs/available-regions?hl=pl">dostępna tylko w niektórych regionach</a>.</span></aside>
<h2 data-text="Konfiguracja" id="setup" tabindex="-1">Konfiguracja</h2>

<h3 data-text="Importowanie interfejsu Generative Language API" id="import_the_generative_language_api" tabindex="-1">Importowanie interfejsu Generative Language API</h3>

<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Bash"><code class='devsite-terminal' translate="no" dir="ltr"><span class="devsite-syntax-c1"># Install the Client library (Semantic Retriever is only supported for versions >0.4.0)</span></code>
<code class='devsite-terminal' translate="no" dir="ltr">pip<span class="devsite-syntax-w"> </span>install<span class="devsite-syntax-w"> </span>-U<span class="devsite-syntax-w"> </span>google.ai.generativelanguage</code></pre></devsite-code>

<h2 data-text="Uwierzytelnij" id="authenticate" tabindex="-1">Uwierzytelnij</h2>

<p>Interfejs Semantic retriever API umożliwia wyszukiwanie semantyczne własnych danych. Ponieważ to <strong>Twoje dane</strong>, wymaga to bardziej rygorystycznej kontroli dostępu niż klucze interfejsu API. Uwierzytelniaj za pomocą protokołu OAuth, używając <a href="#service_oauth">kont usługi</a> lub <a href="#user_oauth">danych logowania użytkownika</a>.</p>

<p>Ten krótki przewodnik korzysta z uproszczonego podejścia do uwierzytelniania, które jest przeznaczone do środowiska testowego. Konfiguracja kont usługi jest zwykle łatwiejsza do rozpoczęcia. W przypadku środowiska produkcyjnego przed wybraniem <a class="external" href="https://developers.google.com/workspace/guides/create-credentials?hl=pl#choose_the_access_credential_that_is_right_for_you" >danych dostępu</a> odpowiednich dla aplikacji zapoznaj się z informacjami na temat <a class="external" href="https://developers.google.com/workspace/guides/auth-overview?hl=pl" >uwierzytelniania i autoryzacji</a>.</p>

<h3 data-text="Konfigurowanie OAuth za pomocą kont usługi" id="service-oauth" tabindex="-1">Konfigurowanie OAuth za pomocą kont usługi</h3>

<p>Aby skonfigurować OAuth za pomocą kont usługi:</p>

<ol>
<li>Włącz <a class="external" href="https://console.cloud.google.com/flows/enableapi?apiid=generativelanguage.googleapis.com&hl=pl" >Generative Language API</a>.</li>
</ol>

<p><img src="https://ai.google.dev/tutorials/images/semantic_retriever_enable_api.png?hl=pl" width="400" /></p>

<ol>
<li><p>Utwórz konto usługi, postępując zgodnie z <a class="external" href="https://developers.google.com/identity/protocols/oauth2/service-account?hl=pl#creatinganaccount" >dokumentacją</a>.</p>

<ul>
<li>Po utworzeniu konta usługi wygeneruj klucz konta usługi.</li>
</ul></li>
</ol>

<p><img src="https://ai.google.dev/tutorials/images/semantic_retriever_service_account.png?hl=pl" width="400" /></p>

<ol>
<li><p>Prześlij plik konta usługi, klikając ikonę pliku na pasku bocznym po lewej stronie, a potem ikonę przesyłania, jak pokazano na poniższym zrzucie ekranu.</p>

<ul>
<li>Zmień nazwę przesłanego pliku na <code dir="ltr" translate="no">service_account_key.json</code> lub zmienną <code dir="ltr" translate="no">service_account_file_name</code> w kodzie poniżej.</li>
</ul></li>
</ol>

<p><img src="https://ai.google.dev/tutorials/images/colab_upload.png?hl=pl" width="400" /></p>

<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Bash"><code class='devsite-terminal' translate="no" dir="ltr">pip<span class="devsite-syntax-w"> </span>install<span class="devsite-syntax-w"> </span>-U<span class="devsite-syntax-w"> </span>google-auth-oauthlib</code></pre></devsite-code>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-n">service_account_file_name</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s1">'service_account_key.json'</span>

<span class="devsite-syntax-kn">from</span> <span class="devsite-syntax-nn">google.oauth2</span> <span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">service_account</span>

<span class="devsite-syntax-n">credentials</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">service_account</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Credentials</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">from_service_account_file</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">service_account_file_name</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-n">scoped_credentials</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">credentials</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">with_scopes</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-p">[</span><span class="devsite-syntax-s1">'https://www.googleapis.com/auth/cloud-platform'</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s1">'https://www.googleapis.com/auth/generative-language.retriever'</span><span class="devsite-syntax-p">])</span>
</code></pre></devsite-code>
<p>Zainicjuj bibliotekę klienta za pomocą danych logowania konta usługi.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-nn">google.ai.generativelanguage</span> <span class="devsite-syntax-k">as</span> <span class="devsite-syntax-nn">glm</span>
<span class="devsite-syntax-n">generative_service_client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GenerativeServiceClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">credentials</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">scoped_credentials</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">retriever_service_client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">RetrieverServiceClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">credentials</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">scoped_credentials</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">permission_service_client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">PermissionServiceClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">credentials</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">scoped_credentials</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h2 data-text="Tworzenie korpusu" id="create-corpus" tabindex="-1">Tworzenie korpusu</h2>

<p>Interfejs Semantic retriever API umożliwia zdefiniowanie do 5 niestandardowych korpusów tekstowych w projekcie. Podczas definiowania korpusów możesz podać jedno z tych pól:</p>

<ul>
<li><code dir="ltr" translate="no">name</code>: nazwa zasobu <code dir="ltr" translate="no">Corpus</code> (identyfikator). Musi zawierać maksymalnie 40 znaków alfanumerycznych. Jeśli podczas tworzenia parametr <code dir="ltr" translate="no">name</code> jest pusty, wygenerujemy unikalną nazwę o maksymalnej długości 40 znaków z prefiksem z parametrów <code dir="ltr" translate="no">display_name</code> i 12-znakowym losowym sufiksem.</li>
<li><code dir="ltr" translate="no">display_name</code>: czytelna dla człowieka nazwa wyświetlana <code dir="ltr" translate="no">Corpus</code>. Może zawierać maksymalnie 512 znaków, w tym znaki alfanumeryczne, spacje i myślniki.</li>
</ul>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-n">example_corpus</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Corpus</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">display_name</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"Google for Developers Blog"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">create_corpus_request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CreateCorpusRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">corpus</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">example_corpus</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Make the request</span>
<span class="devsite-syntax-n">create_corpus_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">create_corpus</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">create_corpus_request</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Set the `corpus_resource_name` for subsequent sections.</span>
<span class="devsite-syntax-n">corpus_resource_name</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">create_corpus_response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">create_corpus_response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<div></div><devsite-code><pre class="tfo-notebook-code-cell-output" translate="no" dir="ltr" is-upgraded>
name&colon; &quot;corpora/google-for-developers-blog-dqrtz8rs0jg&quot;
display_name&colon; &quot;Google for Developers Blog&quot;
create_time {
  seconds&colon; 1713497533
  nanos&colon; 587977000
}
update_time {
  seconds&colon; 1713497533
  nanos&colon; 587977000
}
</pre></devsite-code>

<h3 data-text="Pobieranie utworzonego korpusu" id="get_the_created_corpus" tabindex="-1">Pobieranie utworzonego korpusu</h3>

<p>Aby uzyskać programowy dostęp do elementu <code dir="ltr" translate="no">Corpus</code> utworzonego powyżej, użyj metody <code dir="ltr" translate="no">GetCorpusRequest</code>. Wartość parametru <code dir="ltr" translate="no">name</code> odnosi się do pełnej nazwy zasobu <code dir="ltr" translate="no">Corpus</code> i jest ustawiona w komórce powyżej jako <code dir="ltr" translate="no">corpus_resource_name</code>. Oczekiwany format to <code dir="ltr" translate="no">corpora/corpus-123</code>.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-n">get_corpus_request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GetCorpusRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">corpus_resource_name</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Make the request</span>
<span class="devsite-syntax-n">get_corpus_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">get_corpus</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">get_corpus_request</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Print the response</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">get_corpus_response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h2 data-text="Utwórz dokument" id="create_a_document" tabindex="-1">Utwórz dokument</h2>

<p>Element <code dir="ltr" translate="no">Corpus</code> może zawierać do 10 000 elementów <code dir="ltr" translate="no">Document</code>. Podczas definiowania dokumentów możesz określić jedno z tych pól:</p>

<ul>
<li><code dir="ltr" translate="no">name</code>: nazwa (identyfikator) zasobu <code dir="ltr" translate="no">Document</code>. Nazwa może zawierać maksymalnie 40 znaków (tylko znaki alfanumeryczne lub łączniki). Identyfikator nie może zaczynać się ani kończyć łącznikiem. Jeśli nazwa jest pusta w momencie tworzenia, zostanie utworzona unikalna nazwa na podstawie ciągu znaków <code dir="ltr" translate="no">display_name</code> oraz 12-znakowego losowego sufiksu.</li>
<li><code dir="ltr" translate="no">display_name</code>: wyświetlana nazwa w formie czytelnej dla ludzi. Może zawierać maksymalnie 512 znaków, w tym znaki alfanumeryczne, spacje i myślniki.</li>
</ul>

<p><code dir="ltr" translate="no">Document</code> obsługują też do 20 określonych przez użytkownika pól <code dir="ltr" translate="no">custom_metadata</code> określonych jako pary klucz-wartość. Metadane niestandardowe mogą być ciągami znaków, listami ciągów znaków lub wartościami liczbowymi. Listy ciągów znaków mogą zawierać maksymalnie 10 wartości, a wartości liczbowe są w interfejsie API przedstawiane jako liczby zmiennoprzecinkowe.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Create a document with a custom display name.</span>
<span class="devsite-syntax-n">example_document</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Document</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">display_name</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"Introducing Project IDX, An Experiment to Improve Full-stack, Multiplatform App Development"</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Add metadata.</span>
<span class="devsite-syntax-c1"># Metadata also supports numeric values not specified here</span>
<span class="devsite-syntax-n">document_metadata</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span>
    <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CustomMetadata</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">key</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"url"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">string_value</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"https://developers.googleblog.com/2023/08/introducing-project-idx-experiment-to-improve-full-stack-multiplatform-app-development.html"</span><span class="devsite-syntax-p">)]</span>
<span class="devsite-syntax-n">example_document</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">custom_metadata</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">extend</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">document_metadata</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Make the request</span>
<span class="devsite-syntax-c1"># corpus_resource_name is a variable set in the "Create a corpus" section.</span>
<span class="devsite-syntax-n">create_document_request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CreateDocumentRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parent</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">corpus_resource_name</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">document</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">example_document</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">create_document_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">create_document</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">create_document_request</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Set the `document_resource_name` for subsequent sections.</span>
<span class="devsite-syntax-n">document_resource_name</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">create_document_response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">create_document_response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h3 data-text="Pobieranie utworzonego dokumentu" id="get_the_created_document" tabindex="-1">Pobieranie utworzonego dokumentu</h3>

<p>Aby uzyskać dostęp do utworzonego powyżej dokumentu za pomocą kodu, użyj metody <code dir="ltr" translate="no">GetDocumentRequest</code>. Wartość parametru <code dir="ltr" translate="no">name</code> odnosi się do pełnej nazwy zasobu dokumentu i jest ustawiona w komórce powyżej jako <code dir="ltr" translate="no">document_resource_name</code>. Oczekiwany format to <code dir="ltr" translate="no">corpora/corpus-123/documents/document-123</code>.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-n">get_document_request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GetDocumentRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">document_resource_name</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Make the request</span>
<span class="devsite-syntax-c1"># document_resource_name is a variable set in the "Create a document" section.</span>
<span class="devsite-syntax-n">get_document_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">get_document</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">get_document_request</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Print the response</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">get_document_response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h2 data-text="Przetwarzanie i dzielenie dokumentu na fragmenty" id="ingest_chunk_a_document" tabindex="-1">Przetwarzanie i dzielenie dokumentu na fragmenty</h2>

<p>Aby poprawić trafność treści zwracanych przez bazę danych wektorów podczas wyszukiwania semantycznego, podziel duże dokumenty na mniejsze części, czyli <strong>fragmenty</strong>, podczas przetwarzania dokumentu.</p>

<p>Element <code dir="ltr" translate="no">Chunk</code> jest podczęść elementu <code dir="ltr" translate="no">Document</code>, która jest traktowana jako niezależna jednostka na potrzeby reprezentacji wektorowej i przechowywania danych. W definicji <code dir="ltr" translate="no">Chunk</code> może być maksymalnie 2043 tokenów. <code dir="ltr" translate="no">Corpus</code> może zawierać maksymalnie 1 milion <code dir="ltr" translate="no">Chunk</code>.</p>

<p>Podobnie jak w przypadku <code dir="ltr" translate="no">Document</code>, <code dir="ltr" translate="no">Chunks</code> obsługuje też maksymalnie 20 definiowanych przez użytkownika pól <code dir="ltr" translate="no">custom_metadata</code>, które są podawane jako pary klucz-wartość. Metadane niestandardowe mogą być ciągami znaków, listami ciągów znaków lub wartościami liczbowymi. Pamiętaj, że listy ciągów znaków mogą zawierać maksymalnie 10 wartości, a wartości liczbowe są w interfejsie API reprezentowane jako liczby zmiennoprzecinkowe.</p>

<p>W tym przewodniku używamy <a class="external" href="https://github.com/google/labs-prototypes/tree/main/seeds/chunker-python" >open source HtmlChunker</a> od Google.</p>

<p>Inne fragmenty, których możesz użyć, to <a class="external" href="https://python.langchain.com/docs/get_started/introduction" >LangChain</a> i <a class="external" href="https://www.llamaindex.ai/" >LlamaIndex</a>.</p>

<h3 data-text="Przetwarzanie kodu HTML i dzielenie go na fragmenty za pomocą HtmlChunker" id="ingest_html_and_chunk_via_htmlchunker" tabindex="-1">Przetwarzanie kodu HTML i dzielenie go na fragmenty za pomocą HtmlChunker</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-err">!</span><span class="devsite-syntax-n">pip</span> <span class="devsite-syntax-n">install</span> <span class="devsite-syntax-n">google</span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-n">labs</span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-n">html</span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-n">chunker</span>

<span class="devsite-syntax-kn">from</span> <span class="devsite-syntax-nn">google_labs_html_chunker.html_chunker</span> <span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">HtmlChunker</span>

<span class="devsite-syntax-kn">from</span> <span class="devsite-syntax-nn">urllib.request</span> <span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">urlopen</span>
</code></pre></devsite-code>
<p>Pobierz DOM HTML witryny. Tutaj kod HTML jest odczytywany bezpośrednio, ale lepiej jest uzyskać kod HTML po renderowaniu, aby zawierał kod HTML z wstrzykniętym kodem JavaScript, na przykład <code dir="ltr" translate="no">document.documentElement.innerHTML</code>.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-k">with</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">urlopen</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"https://developers.googleblog.com/2023/08/introducing-project-idx-experiment-to-improve-full-stack-multiplatform-app-development.html"</span><span class="devsite-syntax-p">))</span> <span class="devsite-syntax-k">as</span> <span class="devsite-syntax-n">f</span><span class="devsite-syntax-p">:</span>
  <span class="devsite-syntax-n">html</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">f</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">read</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">decode</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"utf-8"</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<p>Podziel dokument tekstowy na fragmenty i utwórz z nich <code dir="ltr" translate="no">Chunk</code>. Na tym etapie tworzone są obiekty <code dir="ltr" translate="no">Chunk</code>, a w następnej sekcji są one przesyłane do interfejsu Semantic Retriever API.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Chunk the file using HtmlChunker</span>
<span class="devsite-syntax-n">chunker</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">HtmlChunker</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">max_words_per_aggregate_passage</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-mi">200</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">greedily_aggregate_sibling_nodes</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">html_tags_to_exclude</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-s2">"noscript"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s2">"script"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s2">"style"</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">passages</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">chunker</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">html</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">passages</span><span class="devsite-syntax-p">)</span>


<span class="devsite-syntax-c1"># Create `Chunk` entities.</span>
<span class="devsite-syntax-n">chunks</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[]</span>
<span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">passage</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">passages</span><span class="devsite-syntax-p">:</span>
    <span class="devsite-syntax-n">chunk</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Chunk</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">data</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-s1">'string_value'</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-n">passage</span><span class="devsite-syntax-p">})</span>
    <span class="devsite-syntax-c1"># Optionally, you can add metadata to a chunk</span>
    <span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">custom_metadata</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CustomMetadata</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">key</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"tags"</span><span class="devsite-syntax-p">,</span>
                                                    <span class="devsite-syntax-n">string_list_value</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">StringList</span><span class="devsite-syntax-p">(</span>
                                                        <span class="devsite-syntax-n">values</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-s2">"Google For Developers"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s2">"Project IDX"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s2">"Blog"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s2">"Announcement"</span><span class="devsite-syntax-p">])))</span>
    <span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">custom_metadata</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CustomMetadata</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">key</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"chunking_strategy"</span><span class="devsite-syntax-p">,</span>
                                                    <span class="devsite-syntax-n">string_value</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"greedily_aggregate_sibling_nodes"</span><span class="devsite-syntax-p">))</span>
    <span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">custom_metadata</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CustomMetadata</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">key</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"publish_date"</span><span class="devsite-syntax-p">,</span>
                                                    <span class="devsite-syntax-n">numeric_value</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-mi">20230808</span><span class="devsite-syntax-p">))</span>
    <span class="devsite-syntax-n">chunks</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">chunks</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h2 data-text="Tworzenie fragmentów wsadowo" id="batch_create_chunks" tabindex="-1">Tworzenie fragmentów wsadowo</h2>

<p>Tworzenie fragmentów w partiach. W przypadku żądania zbiorczego możesz określić maksymalnie 100 kawałków.</p>

<p>Użyj aplikacji <code dir="ltr" translate="no">CreateChunk()</code>, aby utworzyć pojedynczy fragment.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Option 1: Use HtmlChunker in the section above.</span>
<span class="devsite-syntax-c1"># `chunks` is the variable set from the section above.</span>
<span class="devsite-syntax-n">create_chunk_requests</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[]</span>
<span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">chunk</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">chunks</span><span class="devsite-syntax-p">:</span>
  <span class="devsite-syntax-n">create_chunk_requests</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CreateChunkRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parent</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">document_resource_name</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-p">))</span>

<span class="devsite-syntax-c1"># Make the request</span>
<span class="devsite-syntax-n">request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">BatchCreateChunksRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parent</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">document_resource_name</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">requests</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">create_chunk_requests</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">batch_create_chunks</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<p>Możesz też tworzyć fragmenty bez użycia komponentu htmlChunker.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Add up to 100 CreateChunk requests per batch request.</span>
<span class="devsite-syntax-c1"># document_resource_name is a variable set in the "Create a document" section.</span>
<span class="devsite-syntax-n">chunks</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[]</span>
<span class="devsite-syntax-n">chunk_1</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Chunk</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">data</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-s1">'string_value'</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-s2">"Chunks support user specified metadata."</span><span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-n">chunk_1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">custom_metadata</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CustomMetadata</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">key</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"section"</span><span class="devsite-syntax-p">,</span>
                                                  <span class="devsite-syntax-n">string_value</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"Custom metadata filters"</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-n">chunk_2</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Chunk</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">data</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-s1">'string_value'</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-s2">"The maximum number of metadata supported is 20"</span><span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-n">chunk_2</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">custom_metadata</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CustomMetadata</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">key</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"num_keys"</span><span class="devsite-syntax-p">,</span>
                                                  <span class="devsite-syntax-n">numeric_value</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-mi">20</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-n">chunks</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">chunk_1</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">chunk_2</span><span class="devsite-syntax-p">]</span>
<span class="devsite-syntax-n">create_chunk_requests</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[]</span>
<span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">chunk</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">chunks</span><span class="devsite-syntax-p">:</span>
  <span class="devsite-syntax-n">create_chunk_requests</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CreateChunkRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parent</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">document_resource_name</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-p">))</span>

<span class="devsite-syntax-c1"># Make the request</span>
<span class="devsite-syntax-n">request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">BatchCreateChunksRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parent</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">document_resource_name</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">requests</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">create_chunk_requests</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">batch_create_chunks</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h3 data-text="Wyświetlanie listy Chunk i pobieranie stanu" id="list_chunks_and_get_state" tabindex="-1">Wyświetlanie listy <code dir="ltr" translate="no">Chunk</code> i pobieranie stanu</h3>

<p>Użyj metody <code dir="ltr" translate="no">ListChunksRequest</code>, aby wyświetlić wszystkie dostępne elementy (<code dir="ltr" translate="no">Chunk</code>) w postaci listy podzielonej na strony. Limit rozmiaru wynosi 100 elementów <code dir="ltr" translate="no">Chunk</code> na stronę, posortowany w kolejności rosnącej według wartości <a href="https://ai.google.dev/api/python/google/generativeai/protos/Chunk?hl=pl#create_time%22"><code dir="ltr" translate="no">Chunk.create_time</code></a>. Jeśli nie określisz limitu, zwrócimy maksymalnie 10 <code dir="ltr" translate="no">Chunk</code>.</p>

<p>Aby pobrać kolejną stronę, podaj jako argument kolejnego żądania wartość <code dir="ltr" translate="no">next_page_token</code> zwróconą w odpowiedzi <code dir="ltr" translate="no">ListChunksRequest</code>. Pamiętaj, że podczas podziału na strony wszystkie inne parametry przekazane do funkcji <code dir="ltr" translate="no">ListChunks</code> muszą być zgodne z wywołaniem, które przekazało token strony.</p>

<p>Wszystkie <code dir="ltr" translate="no">Chunk</code> zwracają wartość <code dir="ltr" translate="no">state</code>. Użyj tego polecenia, aby sprawdzić stan <code dir="ltr" translate="no">Chunks</code> przed wysłaniem zapytania <code dir="ltr" translate="no">Corpus</code>. Stany <code dir="ltr" translate="no">Chunk</code> to: <code dir="ltr" translate="no">UNSPECIFIED</code>, <code dir="ltr" translate="no">PENDING_PROCESSING</code>, <code dir="ltr" translate="no">ACTIVE</code> i <code dir="ltr" translate="no">FAILED</code>. Możesz wysyłać tylko zapytania dotyczące <code dir="ltr" translate="no">ACTIVE</code> <code dir="ltr" translate="no">Chunk</code>.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Make the request</span>
<span class="devsite-syntax-n">request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">ListChunksRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parent</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">document_resource_name</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">list_chunks_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">list_chunks</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">index</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">chunks</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-nb">enumerate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">list_chunks_response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">chunks</span><span class="devsite-syntax-p">):</span>
  <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s1">'</span><span class="devsite-syntax-se">\n</span><span class="devsite-syntax-s1">Chunk # </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">index</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">+</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mi">1</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s1">'</span><span class="devsite-syntax-p">)</span>
  <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s1">'Resource Name: </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">chunks</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s1">'</span><span class="devsite-syntax-p">)</span>
  <span class="devsite-syntax-c1"># Only ACTIVE chunks can be queried.</span>
  <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s1">'State: </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Chunk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">State</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">chunks</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s1">'</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h2 data-text="Przetwarzanie innego dokumentu" id="ingest_another_document" tabindex="-1">Przetwarzanie innego dokumentu</h2>

<p>Dodaj kolejne <code dir="ltr" translate="no">Document</code> za pomocą htmlChunker i dodaj filtry.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Create a document with a custom display name.</span>
<span class="devsite-syntax-n">example_document</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Document</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">display_name</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"How it’s Made: Interacting with Gemini through multimodal prompting"</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Add document metadata.</span>
<span class="devsite-syntax-c1"># Metadata also supports numeric values not specified here</span>
<span class="devsite-syntax-n">document_metadata</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span>
    <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CustomMetadata</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">key</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"url"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">string_value</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"https://developers.googleblog.com/2023/12/how-its-made-gemini-multimodal-prompting.html"</span><span class="devsite-syntax-p">)]</span>
<span class="devsite-syntax-n">example_document</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">custom_metadata</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">extend</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">document_metadata</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Make the CreateDocument request</span>
<span class="devsite-syntax-c1"># corpus_resource_name is a variable set in the "Create a corpus" section.</span>
<span class="devsite-syntax-n">create_document_request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CreateDocumentRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parent</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">corpus_resource_name</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">document</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">example_document</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">create_document_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">create_document</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">create_document_request</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Set the `document_resource_name` for subsequent sections.</span>
<span class="devsite-syntax-n">document_resource_name</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">create_document_response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">create_document_response</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Chunks - add another webpage from Google for Developers</span>
<span class="devsite-syntax-k">with</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">urlopen</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"https://developers.googleblog.com/2023/12/how-its-made-gemini-multimodal-prompting.html"</span><span class="devsite-syntax-p">))</span> <span class="devsite-syntax-k">as</span> <span class="devsite-syntax-n">f</span><span class="devsite-syntax-p">:</span>
  <span class="devsite-syntax-n">html</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">f</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">read</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">decode</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"utf-8"</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Chunk the file using HtmlChunker</span>
<span class="devsite-syntax-n">chunker</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">HtmlChunker</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">max_words_per_aggregate_passage</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-mi">100</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">greedily_aggregate_sibling_nodes</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-kc">False</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">passages</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">chunker</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">html</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Create `Chunk` entities.</span>
<span class="devsite-syntax-n">chunks</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[]</span>
<span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">passage</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">passages</span><span class="devsite-syntax-p">:</span>
    <span class="devsite-syntax-n">chunk</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Chunk</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">data</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-s1">'string_value'</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-n">passage</span><span class="devsite-syntax-p">})</span>
    <span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">custom_metadata</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CustomMetadata</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">key</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"tags"</span><span class="devsite-syntax-p">,</span>
                                                    <span class="devsite-syntax-n">string_list_value</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">StringList</span><span class="devsite-syntax-p">(</span>
                                                        <span class="devsite-syntax-n">values</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-s2">"Google For Developers"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s2">"Gemini API"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s2">"Blog"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s2">"Announcement"</span><span class="devsite-syntax-p">])))</span>
    <span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">custom_metadata</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CustomMetadata</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">key</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"chunking_strategy"</span><span class="devsite-syntax-p">,</span>
                                                    <span class="devsite-syntax-n">string_value</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"no_aggregate_sibling_nodes"</span><span class="devsite-syntax-p">))</span>
    <span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">custom_metadata</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CustomMetadata</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">key</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"publish_date"</span><span class="devsite-syntax-p">,</span>
                                                    <span class="devsite-syntax-n">numeric_value</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-mi">20231206</span><span class="devsite-syntax-p">))</span>
    <span class="devsite-syntax-n">chunks</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Make the request</span>
<span class="devsite-syntax-n">create_chunk_requests</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[]</span>
<span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">chunk</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">chunks</span><span class="devsite-syntax-p">:</span>
  <span class="devsite-syntax-n">create_chunk_requests</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CreateChunkRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parent</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">document_resource_name</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-n">request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">BatchCreateChunksRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parent</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">document_resource_name</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">requests</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">create_chunk_requests</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">batch_create_chunks</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h2 data-text="Przesyłanie zapytań do korpusu" id="query_the_corpus" tabindex="-1">Przesyłanie zapytań do korpusu</h2>

<p>Użyj metody <code dir="ltr" translate="no">QueryCorpusRequest</code>, aby przeprowadzić wyszukiwanie semantyczne i uzyskać odpowiednie fragmenty.</p>

<ul>
<li><code dir="ltr" translate="no">results_count</code>: określ liczbę fragmentów do zwrócenia. Maksymalna wartość to 100. Jeśli nie podasz tej wartości, API zwróci maksymalnie 10 wartości <code dir="ltr" translate="no">Chunk</code>.</li>
<li><code dir="ltr" translate="no">metadata_filters</code>: filtruj według <code dir="ltr" translate="no">chunk_metadata</code> lub <code dir="ltr" translate="no">document_metadata</code>. Każdy element <code dir="ltr" translate="no">MetadataFilter</code> musi odpowiadać niepowtarzalnemu kluczowi. Wiele obiektów <code dir="ltr" translate="no">MetadataFilter</code> jest połączonych logicznymi <code dir="ltr" translate="no">AND</code>. Podobne warunki filtra metadanych są połączone za pomocą operatorów logicznych <code dir="ltr" translate="no">OR</code>. Oto kilka przykładów:</li>
</ul>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">year</span> &gt;<span class="devsite-syntax-o">=</span> <span class="devsite-syntax-mi">2020</span> <span class="devsite-syntax-n">OR</span> <span class="devsite-syntax-n">year</span> &lt; <span class="devsite-syntax-mi">2010</span><span class="devsite-syntax-p">)</span> <span class="devsite-syntax-n">AND</span> <span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">genre</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">drama</span> <span class="devsite-syntax-n">OR</span> <span class="devsite-syntax-n">genre</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">action</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-n">metadata_filter</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span>
  <span class="devsite-syntax-p">{</span>
    <span class="devsite-syntax-n">key</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"document.custom_metadata.year"</span>
    <span class="devsite-syntax-n">conditions</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span>
      <span class="devsite-syntax-p">{</span><span class="devsite-syntax-n">int_value</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-mi">2020</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">operation</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">GREATER_EQUAL</span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-p">{</span><span class="devsite-syntax-n">int_value</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-mi">2010</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">operation</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">LESS</span><span class="devsite-syntax-p">}]</span>
  <span class="devsite-syntax-p">},</span>
  <span class="devsite-syntax-p">{</span>
    <span class="devsite-syntax-n">key</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"document.custom_metadata.genre"</span>
    <span class="devsite-syntax-n">conditions</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span>
      <span class="devsite-syntax-p">{</span><span class="devsite-syntax-n">string_value</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"drama"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">operation</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">EQUAL</span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-p">{</span><span class="devsite-syntax-n">string_value</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"action"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">operation</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">EQUAL</span><span class="devsite-syntax-p">}</span> <span class="devsite-syntax-p">}]</span>
  <span class="devsite-syntax-p">}]</span>
</code></pre></devsite-code>
<p>Pamiętaj, że w przypadku tego samego klucza operator „AND” obsługuje tylko wartości liczbowe. Pary ciągów znaków obsługują tylko operator „LUB” dla tego samego klucza.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"Google for Developers"</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">tags</span><span class="devsite-syntax-p">)</span> <span class="devsite-syntax-ow">and</span> <span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">20230314</span> &gt; <span class="devsite-syntax-n">publish_date</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-n">metadata_filter</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span>
 <span class="devsite-syntax-p">{</span>
    <span class="devsite-syntax-n">key</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"chunk.custom_metadata.tags"</span>
    <span class="devsite-syntax-n">conditions</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span>
    <span class="devsite-syntax-p">{</span><span class="devsite-syntax-n">string_value</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s1">'Google for Developers'</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">operation</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">INCLUDES</span><span class="devsite-syntax-p">},</span>
  <span class="devsite-syntax-p">},</span>
  <span class="devsite-syntax-p">{</span>
    <span class="devsite-syntax-n">key</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"chunk.custom_metadata.publish_date"</span>
    <span class="devsite-syntax-n">conditions</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span>
    <span class="devsite-syntax-p">{</span><span class="devsite-syntax-n">numeric_value</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-mi">20230314</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">operation</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">GREATER_EQUAL</span><span class="devsite-syntax-p">}]</span>
  <span class="devsite-syntax-p">}]</span>
</code></pre></devsite-code><div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-n">user_query</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"What is the purpose of Project IDX?"</span>
<span class="devsite-syntax-n">results_count</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-mi">5</span>

<span class="devsite-syntax-c1"># Add metadata filters for both chunk and document.</span>
<span class="devsite-syntax-n">chunk_metadata_filter</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">MetadataFilter</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">key</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s1">'chunk.custom_metadata.tags'</span><span class="devsite-syntax-p">,</span>
                                           <span class="devsite-syntax-n">conditions</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Condition</span><span class="devsite-syntax-p">(</span>
                                              <span class="devsite-syntax-n">string_value</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s1">'Google For Developers'</span><span class="devsite-syntax-p">,</span>
                                              <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Condition</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Operator</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">INCLUDES</span><span class="devsite-syntax-p">)])</span>

<span class="devsite-syntax-c1"># Make the request</span>
<span class="devsite-syntax-c1"># corpus_resource_name is a variable set in the "Create a corpus" section.</span>
<span class="devsite-syntax-n">request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">QueryCorpusRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">corpus_resource_name</span><span class="devsite-syntax-p">,</span>
                                 <span class="devsite-syntax-n">query</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">user_query</span><span class="devsite-syntax-p">,</span>
                                 <span class="devsite-syntax-n">results_count</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">results_count</span><span class="devsite-syntax-p">,</span>
                                 <span class="devsite-syntax-n">metadata_filters</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">chunk_metadata_filter</span><span class="devsite-syntax-p">])</span>
<span class="devsite-syntax-n">query_corpus_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">query_corpus</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">query_corpus_response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h2 data-text="Przypisywanie odpowiedzi na pytania" id="attributed_question-answering" tabindex="-1">Przypisywanie odpowiedzi na pytania</h2>

<p>Użyj metody <a href="https://ai.google.dev/api/python/google/ai/generativelanguage/GenerateAnswerRequest?hl=pl"><code dir="ltr" translate="no">GenerateAnswer</code></a>, aby wykonać przypisane pytanie do swojego dokumentu, korpusu lub zbioru fragmentów.</p>

<p>Odpowiadanie na pytania z przypisaniem autorów (AQA) polega na udzielaniu odpowiedzi na pytania w ramach określonego kontekstu i przypisywaniu autorów, przy jednoczesnym minimalizowaniu zjawiska halucynacji.</p>

<p><code dir="ltr" translate="no">GenerateAnswer</code> ma kilka zalet w porównaniu z niedopasowanym LLM, gdy potrzebna jest automatyzacja jakości:</p>

<ul>
<li>Model bazowy został wytrenowany tak, aby zwracać tylko odpowiedzi, które są oparte na podanym kontekście.</li>
<li>Identyfikuje źródła (segmenty podanego kontekstu, które przyczyniły się do odpowiedzi). Dzięki atrybucji użytkownik może zweryfikować odpowiedź.</li>
<li>Oblicza ona wartość <code dir="ltr" translate="no">answerable_probability</code> dla danej pary (pytanie, kontekst), co pozwala Ci wpływać na działanie usługi w zależności od tego, jak prawdopodobne jest, że zwrócona odpowiedź będzie prawidłowa i poparta dowodami.</li>
</ul>
<aside class="note"><strong>Uwaga:</strong><span> obecnie AQA obsługuje tylko zapytania w języku angielskim.</span></aside>
<h3 data-text="answerable_probability i problem „nie wiem”" id="answerable_probability_and_the_“i_don’t_know”_problem" tabindex="-1"><code dir="ltr" translate="no">answerable_probability</code> i problem „nie wiem”</h3>

<p>W niektórych przypadkach najlepszą odpowiedzią na pytanie jest „Nie wiem”. Jeśli na przykład podany kontekst nie zawiera odpowiedzi na pytanie, jest ono uznawane za „nieodpowiadające”.</p>

<p>Model AQA bardzo dobrze radzi sobie z rozpoznawaniem takich przypadków. Może ona nawet odróżniać stopnie możliwości udzielenia odpowiedzi od braku możliwości udzielenia odpowiedzi.</p>

<p>Interfejs API <code dir="ltr" translate="no">GenerateAnswer</code> daje Ci jednak możliwość podjęcia ostatecznej decyzji, ponieważ:</p>

<ul>
<li><em>Zawsze</em> staraj się zwracać wiarygodną odpowiedź – nawet wtedy, gdy jest mało prawdopodobne, że będzie ona wiarygodna i prawidłowa.</li>
<li>Zwracanie wartości <code dir="ltr" translate="no">answerable_probability</code> – szacowanie przez model prawdopodobieństwa, że odpowiedź jest prawidłowa i poparta dowodami.</li>
</ul>

<p>Niski współczynnik <code dir="ltr" translate="no">answerable_probability</code> może być spowodowany jednym lub kilkoma z tych czynników:</p>

<ul>
<li>Model nie jest pewny, czy jego odpowiedź jest prawidłowa.</li>
<li>Model nie jest pewny, czy jego odpowiedź jest oparta na cytowanych fragmentach; odpowiedź może być zamiast tego wywnioskowana na podstawie ogólnej wiedzy. Przykład: <code dir="ltr" translate="no">question=&quot;1+1=?&quot;, passages=[&quot;2+2=4”]</code> → <code dir="ltr" translate="no">answer=2, answerable_probability=0.02</code></li>
<li>Model dostarczył istotne informacje, które nie odpowiadały w pełni na pytanie. Przykład: <code dir="ltr" translate="no">question=&quot;Is it available in my size?, passages=[&quot;Available in sizes 5-11&quot;]</code> → <code dir="ltr" translate="no">answer=&quot;Yes it is available in sizes 5-11&quot;, answerable_probability=0.03&quot;</code></li>
<li>W zapytaniu GenerateAnswerRequest nie ma poprawnie sformułowanego pytania.</li>
</ul>

<p>Niska wartość <code dir="ltr" translate="no">answerable_probability</code> wskazuje, że odpowiedź GenerateAnswer.answer jest prawdopodobnie nieprawidłowa lub nieuzasadniona, dlatego <strong>zdecydowanie zalecamy dalsze przetworzenie odpowiedzi przez sprawdzenie <code dir="ltr" translate="no">answerable_probability</code></strong>.</p>

<p>Gdy <code dir="ltr" translate="no">answerable_probability</code> jest niski, niektórzy klienci mogą chcieć:</p>

<ul>
<li>wyświetlić użytkownikowi komunikat „Nie możemy odpowiedzieć na to pytanie”.</li>
<li>Wróćmy do ogólnego przeznaczenia LLM, które stanowi odpowiedź na pytanie wynikające z wiedzy z całego świata. Wartość progowa i charakter takich rozwiązań zastępczych zależą od konkretnych przypadków użycia. Wartość <code dir="ltr" translate="no">answerable_probability</code> &lt;= 0,5 to dobry próg początkowy.</li>
</ul>

<h3 data-text="Przydatne wskazówki dotyczące AQA" id="aqa_helpful_tips" tabindex="-1">Przydatne wskazówki dotyczące AQA</h3>

<p>Pełne specyfikacje interfejsu API znajdziesz w dokumentacji <a href="https://ai.google.dev/api/python/google/ai/generativelanguage/GenerateAnswerRequest?hl=pl"><code dir="ltr" translate="no">GenerateAnswerRequest</code> API Reference</a>.</p>

<ul>
<li><em>Długość fragmentu:</em> zalecamy użycie maksymalnie 300 tokenów na fragment.</li>
<li><em>Sortowanie fragmentów:</em><ul>
<li>Jeśli podasz wartość <a href="https://ai.google.dev/api/python/google/generativeai/protos/GenerateAnswerRequest?hl=pl#inline_passages%22"><code dir="ltr" translate="no">GenerateAnswerRequest.inline_passages</code></a>, fragmenty powinny być posortowane w kolejności malejącej pod względem trafności w stosunku do zapytania. Jeśli przekroczysz limit długości kontekstu modelu, ostatnie (najmniej trafne) fragmenty zostaną pominięte.</li>
<li>Jeśli podasz <a href="https://ai.google.dev/api/python/google/generativeai/protos/GenerateAnswerRequest?hl=pl#semantic_retriever%22"><code dir="ltr" translate="no">GenerateAnswerRequest.semantic_retriever</code></a>, sortowanie według trafności zostanie wykonane automatycznie.</li>
</ul></li>
<li><em>Ograniczenia:</em> model AQA jest wyspecjalizowany do odpowiadania na pytania. Do innych zastosowań, takich jak pisanie kreatywne, streszczanie itp., wywołaj model ogólnego przeznaczenia w GenerateContent.
<ul>
<li><em>Czat:</em> jeśli wiadomo, że wpis użytkownika to pytanie, na które można udzielić odpowiedzi w określonym kontekście, AQA może odpowiadać na pytania zadawane na czacie. Jeśli jednak dane wejściowe użytkownika mogą być dowolnego typu, lepszym wyborem może być model ogólnego przeznaczenia.</li>
</ul></li>
<li><em>Temperatura:</em><ul>
<li>Ogólnie zalecamy stosowanie stosunkowo niskiej temperatury (około 0,2), aby zapewnić dokładność pomiarów AQA.</li>
<li>Jeśli Twój przypadek użycia opiera się na wynikach deterministycznych, ustaw wartość temperature=0.</li>
</ul></li>
</ul>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-n">user_query</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"What is the purpose of Project IDX?"</span>
<span class="devsite-syntax-n">answer_style</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"ABSTRACTIVE"</span> <span class="devsite-syntax-c1"># Or VERBOSE, EXTRACTIVE</span>
<span class="devsite-syntax-n">MODEL_NAME</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"models/aqa"</span>

<span class="devsite-syntax-c1"># Make the request</span>
<span class="devsite-syntax-c1"># corpus_resource_name is a variable set in the "Create a corpus" section.</span>
<span class="devsite-syntax-n">content</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Content</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parts</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Part</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">user_query</span><span class="devsite-syntax-p">)])</span>
<span class="devsite-syntax-n">retriever_config</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">SemanticRetrieverConfig</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">source</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">corpus_resource_name</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">query</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">content</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">req</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GenerateAnswerRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">MODEL_NAME</span><span class="devsite-syntax-p">,</span>
                                <span class="devsite-syntax-n">contents</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">content</span><span class="devsite-syntax-p">],</span>
                                <span class="devsite-syntax-n">semantic_retriever</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">retriever_config</span><span class="devsite-syntax-p">,</span>
                                <span class="devsite-syntax-n">answer_style</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">answer_style</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">aqa_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">generative_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">generate_answer</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">req</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">aqa_response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code><div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Get the metadata from the first attributed passages for the source</span>
<span class="devsite-syntax-n">chunk_resource_name</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">aqa_response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">answer</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">grounding_attributions</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">]</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">source_id</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">semantic_retriever_chunk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">chunk</span>
<span class="devsite-syntax-n">get_chunk_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">get_chunk</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">chunk_resource_name</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">get_chunk_response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h3 data-text="Więcej opcji: AQA z użyciem ścieżek śródtekstowych" id="more_options_aqa_using_inline_passages" tabindex="-1">Więcej opcji: AQA z użyciem ścieżek śródtekstowych</h3>

<p>Możesz też użyć punktu końcowego AQA bezpośrednio, bez korzystania z interfejsu Semantic Retriever API, podając parametr <code dir="ltr" translate="no">inline_passages</code>.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-n">user_query</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"What is AQA from Google?"</span>
<span class="devsite-syntax-n">user_query_content</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Content</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parts</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Part</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">user_query</span><span class="devsite-syntax-p">)])</span>
<span class="devsite-syntax-n">answer_style</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"VERBOSE"</span> <span class="devsite-syntax-c1"># or ABSTRACTIVE, EXTRACTIVE</span>
<span class="devsite-syntax-n">MODEL_NAME</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"models/aqa"</span>

<span class="devsite-syntax-c1"># Create the grounding inline passages</span>
<span class="devsite-syntax-n">grounding_passages</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GroundingPassages</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-n">passage_a</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Content</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parts</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Part</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"Attributed Question and Answering (AQA) refers to answering questions grounded to a given corpus and providing citation"</span><span class="devsite-syntax-p">)])</span>
<span class="devsite-syntax-n">grounding_passages</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">passages</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GroundingPassage</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">content</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">passage_a</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-nb">id</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"001"</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-n">passage_b</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Content</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parts</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Part</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"An LLM is not designed to generate content grounded in a set of passages. Although instructing an LLM to answer questions only based on a set of passages reduces hallucination, hallucination still often occurs when LLMs generate responses unsupported by facts provided by passages"</span><span class="devsite-syntax-p">)])</span>
<span class="devsite-syntax-n">grounding_passages</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">passages</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GroundingPassage</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">content</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">passage_b</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-nb">id</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"002"</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-n">passage_c</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Content</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parts</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Part</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"Hallucination is one of the biggest problems in Large Language Models (LLM) development. Large Language Models (LLMs) could produce responses that are fictitious and incorrect, which significantly impacts the usefulness and trustworthiness of applications built with language models."</span><span class="devsite-syntax-p">)])</span>
<span class="devsite-syntax-n">grounding_passages</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">passages</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GroundingPassage</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">content</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">passage_c</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-nb">id</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"003"</span><span class="devsite-syntax-p">))</span>

<span class="devsite-syntax-c1"># Create the request</span>
<span class="devsite-syntax-n">req</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GenerateAnswerRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">MODEL_NAME</span><span class="devsite-syntax-p">,</span>
                                <span class="devsite-syntax-n">contents</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">user_query_content</span><span class="devsite-syntax-p">],</span>
                                <span class="devsite-syntax-n">inline_passages</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">grounding_passages</span><span class="devsite-syntax-p">,</span>
                                <span class="devsite-syntax-n">answer_style</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">answer_style</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">aqa_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">generative_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">generate_answer</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">req</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">aqa_response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h2 data-text="Udostępnianie korpusu" id="share_the_corpus" tabindex="-1">Udostępnianie korpusu</h2>

<p>Możesz udostępnić korpus innym osobom, używając interfejsu API <a href="https://ai.google.dev/api/python/google/ai/generativelanguage/CreatePermissionRequest?hl=pl"><code dir="ltr" translate="no">CreatePermissionRequest</code></a>.</p>

<p>Ograniczenia:</p>

<ul>
<li>Istnieją 2 role do udostępniania: <code dir="ltr" translate="no">READER</code> i <code dir="ltr" translate="no">EDITOR</code>.
<ul>
<li><code dir="ltr" translate="no">READER</code> może wysyłać zapytania do korpusów.</li>
<li>Użytkownik <code dir="ltr" translate="no">WRITER</code> ma uprawnienia do odczytu i dodatkowo może edytować i udostępniać korpus.</li>
</ul></li>
<li>Korpus może być publiczny, jeśli przyznasz <code dir="ltr" translate="no">EVERYONE</code> jako <code dir="ltr" translate="no">user_type</code> uprawnienia do odczytu.</li>
</ul>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Replace your-email@gmail.com with the email added as a test user in the OAuth Quickstart</span>
<span class="devsite-syntax-n">shared_user_email</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"TODO-your-email@gmail.com"</span> <span class="devsite-syntax-c1">#  @param {type:"string"}</span>
<span class="devsite-syntax-n">user_type</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"USER"</span>
<span class="devsite-syntax-n">role</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"READER"</span>

<span class="devsite-syntax-c1"># Make the request</span>
<span class="devsite-syntax-c1"># corpus_resource_name is a variable set in the "Create a corpus" section.</span>
<span class="devsite-syntax-n">request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CreatePermissionRequest</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">parent</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">corpus_resource_name</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">permission</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Permission</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">grantee_type</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">user_type</span><span class="devsite-syntax-p">,</span>
                              <span class="devsite-syntax-n">email_address</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">shared_user_email</span><span class="devsite-syntax-p">,</span>
                              <span class="devsite-syntax-n">role</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">role</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-n">create_permission_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">permission_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">create_permission</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">create_permission_response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h2 data-text="Usuwanie zbioru" id="delete_the_corpus" tabindex="-1">Usuwanie zbioru</h2>

<p>Użyj polecenia <a href="https://ai.google.dev/api/python/google/ai/generativelanguage/DeleteCorpusRequest?hl=pl"><code dir="ltr" translate="no">DeleteCorpusRequest</code></a>, aby usunąć korpus użytkownika i wszystkie powiązane z nim <code dir="ltr" translate="no">Document</code>e i <code dir="ltr" translate="no">Chunk</code>.</p>

<p>Pamiętaj, że niepusty korpus wywoła błąd bez określenia flagi <code dir="ltr" translate="no">force=True</code>. Jeśli ustawisz <code dir="ltr" translate="no">force=True</code>, wszystkie <code dir="ltr" translate="no">Chunk</code> i obiekty powiązane z tym <code dir="ltr" translate="no">Document</code> zostaną również usunięte.</p>

<p>Jeśli <code dir="ltr" translate="no">force=False</code> (wartość domyślna) i <code dir="ltr" translate="no">Document</code> zawierają jakiekolwiek wartości <code dir="ltr" translate="no">Chunk</code>, zwracany jest błąd <code dir="ltr" translate="no">FAILED_PRECONDITION</code>.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Set force to False if you don't want to delete non-empty corpora.</span>
<span class="devsite-syntax-n">req</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">DeleteCorpusRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">corpus_resource_name</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">force</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">delete_corpus_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">delete_corpus</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">req</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"Successfully deleted corpus: "</span> <span class="devsite-syntax-o">+</span> <span class="devsite-syntax-n">corpus_resource_name</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h2 data-text="Podsumowanie i dalsze informacje" id="summary_and_further_reading" tabindex="-1">Podsumowanie i dalsze informacje</h2>

<p>W tym przewodniku przedstawiliśmy interfejsy API (AQA) służącego do pobierania semantycznego i przypisanego pytań i odpowiedzi w interfejsie Generative Language API oraz pokazaliśmy, jak używać tego interfejsu do pobierania informacji semantycznych z niestandardowych danych tekstowych. Ten interfejs API działa też z ramówkami danych <a class="external" href="https://www.llamaindex.ai/" >LlamaIndex</a>. Więcej informacji znajdziesz w <a class="external" href="https://github.com/run-llama/llama_index/blob/main/docs/docs/examples/managed/GoogleDemo.ipynb" >samouczku</a>.</p>

<p>Więcej informacji o dostępnych funkcjach znajdziesz też w <a href="https://ai.google.dev/api?hl=pl">dokumentacji interfejsu API</a>.</p>

<h2 data-text="Załącznik: konfigurowanie OAuth za pomocą danych logowania użytkownika" id="user-oauth" tabindex="-1">Załącznik: konfigurowanie OAuth za pomocą danych logowania użytkownika</h2>

<p>Aby skonfigurować uwierzytelnianie OAuth, wykonaj czynności podane poniżej w <a href="https://ai.google.dev/docs/oauth_quickstart?hl=pl">krótkim wprowadzeniu do OAuth</a>.</p>

<ol>
<li><p><a href="https://ai.google.dev/docs/oauth_quickstart?hl=pl#configure-oauth">Skonfiguruj ekran zgody OAuth</a>.</p></li>
<li><p><a href="https://ai.google.dev/docs/oauth_quickstart?hl=pl#authorize-credentials">Autoryzowanie danych logowania w przypadku aplikacji na komputer</a>. Aby uruchomić ten notebook w Colab, najpierw zmień nazwę pliku z danymi logowania (zwykle <code dir="ltr" translate="no">client_secret_*.json</code>) na <code dir="ltr" translate="no">client_secret.json</code>. Następnie prześlij plik, klikając ikonę pliku na pasku bocznym po lewej stronie, a potem ikonę przesyłania, jak pokazano na poniższym zrzucie ekranu.</p></li>
</ol>

<p><img src="https://ai.google.dev/tutorials/images/colab_upload.png?hl=pl" width="400" /></p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Replace TODO-your-project-name with the project used in the OAuth Quickstart</span>
<span class="devsite-syntax-n">project_name</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"TODO-your-project-name"</span> <span class="devsite-syntax-c1">#  @param {type:"string"}</span>
<span class="devsite-syntax-c1"># Replace TODO-your-email@gmail.com with the email added as a test user in the OAuth Quickstart</span>
<span class="devsite-syntax-n">email</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"TODO-your-email@gmail.com"</span> <span class="devsite-syntax-c1">#  @param {type:"string"}</span>
<span class="devsite-syntax-c1"># Rename the uploaded file to `client_secret.json` OR</span>
<span class="devsite-syntax-c1"># Change the variable `client_file_name` in the code below.</span>
<span class="devsite-syntax-n">client_file_name</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"client_secret.json"</span>

<span class="devsite-syntax-c1"># IMPORTANT: Follow the instructions from the output - you must copy the command</span>
<span class="devsite-syntax-c1"># to your terminal and copy the output after authentication back here.</span>
<span class="devsite-syntax-err">!</span><span class="devsite-syntax-n">gcloud</span> <span class="devsite-syntax-n">config</span> <span class="devsite-syntax-nb">set</span> <span class="devsite-syntax-n">project</span> <span class="devsite-syntax-err">$</span><span class="devsite-syntax-n">project_name</span>
<span class="devsite-syntax-err">!</span><span class="devsite-syntax-n">gcloud</span> <span class="devsite-syntax-n">config</span> <span class="devsite-syntax-nb">set</span> <span class="devsite-syntax-n">account</span> <span class="devsite-syntax-err">$</span><span class="devsite-syntax-n">email</span>

<span class="devsite-syntax-c1"># NOTE: The simplified project setup in this tutorial triggers a "Google hasn't verified this app." dialog.</span>
<span class="devsite-syntax-c1"># This is normal, click "Advanced" -&gt; "Go to [app name] (unsafe)"</span>
<span class="devsite-syntax-err">!</span><span class="devsite-syntax-n">gcloud</span> <span class="devsite-syntax-n">auth</span> <span class="devsite-syntax-n">application</span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-n">default</span> <span class="devsite-syntax-n">login</span> <span class="devsite-syntax-o">--</span><span class="devsite-syntax-n">no</span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-n">browser</span> <span class="devsite-syntax-o">--</span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-nb">id</span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-err">$</span><span class="devsite-syntax-n">client_file_name</span> <span class="devsite-syntax-o">--</span><span class="devsite-syntax-n">scopes</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"https://www.googleapis.com/auth/generative-language.retriever,https://www.googleapis.com/auth/cloud-platform"</span>
</code></pre></devsite-code>
<p>Zainicjuj bibliotekę klienta i ponownie uruchom notatnik, zaczynając od <a href="#create_corpus">tworzenia korpusu</a>.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-nn">google.ai.generativelanguage</span> <span class="devsite-syntax-k">as</span> <span class="devsite-syntax-nn">glm</span>

<span class="devsite-syntax-n">generative_service_client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GenerativeServiceClient</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-n">retriever_service_client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">RetrieverServiceClient</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-n">permission_service_client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">PermissionServiceClient</span><span class="devsite-syntax-p">()</span>
</code></pre></devsite-code>
<link data-page-link="" href="https://ai.google.dev/site-assets/css/style.css?v=2&hl=pl" rel="stylesheet" /><link data-page-link="" href="https://fonts.googleapis.com/css2?family=Google+Symbols:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet" />
  
  

  
</div>

  

  
    
    
      
    <devsite-thumb-rating position="footer">
    </devsite-thumb-rating>
  
       
         <devsite-feedback
  position="footer"
  project-name="Gemini API"
  product-id="5292923"
  bucket="documentation"
  context=""
  version="t-devsite-webserver-20241114-r00-rc02.464921008191574316"
  data-label="Send Feedback Button"
  track-type="feedback"
  track-name="sendFeedbackLink"
  track-metadata-position="footer"
  class="nocontent"
  
  
  
    project-icon="https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/googledevai/images/touchicon-180-new.png"
  
  
  
  >

  <button>
  
    
    Prześlij opinię
  
  </button>
</devsite-feedback>
       
    
    
  

  
  <div class="devsite-floating-action-buttons">
  
  
</div>
</article>


<devsite-content-footer class="nocontent">
  <p>O ile nie stwierdzono inaczej, treść tej strony jest objęta <a href="https://creativecommons.org/licenses/by/4.0/">licencją Creative Commons – uznanie autorstwa 4.0</a>, a fragmenty kodu są dostępne na <a href="https://www.apache.org/licenses/LICENSE-2.0">licencji Apache 2.0</a>. Szczegółowe informacje na ten temat zawierają <a href="https://developers.google.com/site-policies?hl=pl">zasady dotyczące witryny Google Developers</a>. Java jest zastrzeżonym znakiem towarowym firmy Oracle i jej podmiotów stowarzyszonych.</p>
  <p>Ostatnia aktualizacja: 2024-11-07 UTC.</p>
</devsite-content-footer>


<devsite-notification
>
</devsite-notification>


  
<div class="devsite-content-data">
  
    
    
    <template class="devsite-thumb-rating-feedback">
      <devsite-feedback
  position="thumb-rating"
  project-name="Gemini API"
  product-id="5292923"
  bucket="documentation"
  context=""
  version="t-devsite-webserver-20241114-r00-rc02.464921008191574316"
  data-label="Send Feedback Button"
  track-type="feedback"
  track-name="sendFeedbackLink"
  track-metadata-position="thumb-rating"
  class="nocontent"
  
  
  
    project-icon="https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/googledevai/images/touchicon-180-new.png"
  
  
  
  >

  <button>
  
    Chcesz przekazać coś jeszcze?
  
  </button>
</devsite-feedback>
    </template>
  
  
    <template class="devsite-content-data-template">
      [[["Łatwo zrozumieć","easyToUnderstand","thumb-up"],["Rozwiązało to mój problem","solvedMyProblem","thumb-up"],["Inne","otherUp","thumb-up"]],[["Brak potrzebnych mi informacji","missingTheInformationINeed","thumb-down"],["Zbyt skomplikowane / zbyt wiele czynności do wykonania","tooComplicatedTooManySteps","thumb-down"],["Nieaktualne treści","outOfDate","thumb-down"],["Problem z tłumaczeniem","translationIssue","thumb-down"],["Problem z przykładami/kodem","samplesCodeIssue","thumb-down"],["Inne","otherDown","thumb-down"]],["Ostatnia aktualizacja: 2024-11-07 UTC."],[],[]]
    </template>
  
</div>
            
          </devsite-content>
        </main>
        <devsite-footer-promos class="devsite-footer">
          
            
          
        </devsite-footer-promos>
        <devsite-footer-linkboxes class="devsite-footer">
          
            
<nav class="devsite-footer-linkboxes nocontent" aria-label="Linki w stopce">
  
</nav>
          
        </devsite-footer-linkboxes>
        <devsite-footer-utility class="devsite-footer">
          
            

<div class="devsite-footer-utility nocontent">
  

  
  <nav class="devsite-footer-utility-links" aria-label="Linki do narzędzi">
    
    <ul class="devsite-footer-utility-list">
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="//policies.google.com/terms?hl=pl"
           data-category="Site-Wide Custom Events"
           data-label="Footer Terms link"
         >
          Warunki
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="//policies.google.com/privacy?hl=pl"
           data-category="Site-Wide Custom Events"
           data-label="Footer Privacy link"
         >
          Prywatność
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 glue-cookie-notification-bar-control">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="#"
           data-category="Site-Wide Custom Events"
           data-label="Footer Manage cookies link"
         
           aria-hidden="true"
         >
          Manage cookies
        </a>
        
      </li>
      
    </ul>
    
    
<devsite-language-selector>
  <ul role="presentation">
    
    
    <li role="presentation">
      <a role="menuitem" lang="en"
        >English</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="de"
        >Deutsch</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="es_419"
        >Español – América Latina</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="fr"
        >Français</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="id"
        >Indonesia</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="it"
        >Italiano</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pl"
        >Polski</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pt_br"
        >Português – Brasil</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="vi"
        >Tiếng Việt</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="tr"
        >Türkçe</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ru"
        >Русский</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="he"
        >עברית</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ar"
        >العربيّة</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="fa"
        >فارسی</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="hi"
        >हिंदी</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="bn"
        >বাংলা</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="th"
        >ภาษาไทย</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_cn"
        >中文 – 简体</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_tw"
        >中文 – 繁體</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ja"
        >日本語</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ko"
        >한국어</a>
    </li>
    
  </ul>
</devsite-language-selector>

  </nav>
</div>
          
        </devsite-footer-utility>
        <devsite-panel></devsite-panel>
        
      </section></section>
    <devsite-sitemask></devsite-sitemask>
    <devsite-snackbar></devsite-snackbar>
    <devsite-tooltip ></devsite-tooltip>
    <devsite-heading-link></devsite-heading-link>
    <devsite-analytics>
      
        <script type="application/json" analytics>[]</script>
<script type="application/json" tag-management>{&#34;at&#34;: &#34;True&#34;, &#34;ga4&#34;: [], &#34;ga4p&#34;: [], &#34;gtm&#34;: [{&#34;id&#34;: &#34;GTM-TC2MQKS8&#34;, &#34;purpose&#34;: 0}], &#34;parameters&#34;: {&#34;internalUser&#34;: &#34;False&#34;, &#34;language&#34;: {&#34;machineTranslated&#34;: &#34;True&#34;, &#34;requested&#34;: &#34;pl&#34;, &#34;served&#34;: &#34;pl&#34;}, &#34;pageType&#34;: &#34;article&#34;, &#34;projectName&#34;: &#34;Gemini API&#34;, &#34;signedIn&#34;: &#34;False&#34;, &#34;tenant&#34;: &#34;googledevai&#34;, &#34;recommendations&#34;: {&#34;sourcePage&#34;: &#34;&#34;, &#34;sourceType&#34;: 0, &#34;sourceRank&#34;: 0, &#34;sourceIdenticalDescriptions&#34;: 0, &#34;sourceTitleWords&#34;: 0, &#34;sourceDescriptionWords&#34;: 0, &#34;experiment&#34;: &#34;&#34;}, &#34;experiment&#34;: {&#34;ids&#34;: &#34;&#34;}}}</script>
      
    </devsite-analytics>
    
      <devsite-badger></devsite-badger>
    
    
    <script nonce="arEM/6r3H3yncN7PGYEBE754pjmj/X">
  
  (function(d,e,v,s,i,t,E){d['GoogleDevelopersObject']=i;
    t=e.createElement(v);t.async=1;t.src=s;E=e.getElementsByTagName(v)[0];
    E.parentNode.insertBefore(t,E);})(window, document, 'script',
    'https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/googledevai/js/app_loader.js', '[59,"pl",null,"/js/devsite_app_module.js","https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625","https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/googledevai","https://googledevai-dot-devsite-v2-prod-3p.appspot.com",null,null,["/_pwa/googledevai/manifest.json","https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/images/video-placeholder.svg","https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/googledevai/images/favicon-new.png","/_static/googledevai/images/lockup-new.svg","https://fonts.googleapis.com/css?family=Google+Sans:400,500|Roboto:400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700&display=swap"],1,null,[1,6,8,12,14,17,21,25,50,52,63,70,75,76,80,87,91,92,93,97,98,100,101,102,103,104,105,107,108,109,110,112,113,117,118,120,122,124,125,126,127,129,130,131,132,133,134,135,136,138,140,141,147,148,149,151,152,156,157,158,159,161,163,164,168,169,170,179,180,182,183,186,191,193,196],"AIzaSyCNm9YxQumEXwGJgTDjxoxXK6m1F-9720Q","AIzaSyCc76DZePGtoyUjqKrLdsMGk_ry7sljLbY","ai.google.dev","AIzaSyB9bqgQ2t11WJsOX8qNsCQ6U-w91mmqF-I","AIzaSyAdYnStPdzjcJJtQ0mvIaeaMKj7_t6J_Fg",null,null,null,["OnSwitch__enable","EngEduTelemetry__enable_engedu_telemetry","CloudShell__cloud_code_overflow_menu","Cloud__enable_free_trial_server_call","MiscFeatureFlags__developers_footer_image","Profiles__enable_complete_playlist_endpoint","Cloud__enable_cloudx_ping","MiscFeatureFlags__developers_footer_dark_image","CloudShell__cloud_shell_button","Profiles__enable_page_saving","DevPro__enable_developer_subscriptions","MiscFeatureFlags__enable_explain_this_code","Profiles__enable_release_notes_notifications","Cloud__enable_llm_concierge_chat","Cloud__enable_cloud_facet_chat","MiscFeatureFlags__enable_firebase_utm","Profiles__enable_dashboard_curated_recommendations","Profiles__enable_public_developer_profiles","Profiles__require_profile_eligibility_for_signin","Search__enable_dynamic_content_confidential_banner","Cloud__enable_cloudx_experiment_ids","Search__enable_suggestions_from_borg","MiscFeatureFlags__enable_project_variables","MiscFeatureFlags__enable_variable_operator","Profiles__enable_completecodelab_endpoint","Cloud__enable_cloud_shell","Profiles__enable_developer_profiles_callout","MiscFeatureFlags__enable_view_transitions","DevPro__enable_cloud_innovators_plus","Analytics__enable_clearcut_logging","Concierge__enable_pushui","Profiles__enable_profile_collections","Profiles__enable_recognition_badges","Search__enable_page_map","Cloud__enable_cloud_shell_fte_user_flow","Experiments__reqs_query_experiments","MiscFeatureFlags__emergency_css","Cloud__enable_legacy_calculator_redirect","Cloud__enable_cloud_dlp_service","Profiles__enable_awarding_url","TpcFeatures__enable_mirror_tenant_redirects","Search__enable_ai_eligibility_checks","BookNav__enable_tenant_cache_key","TpcFeatures__enable_required_headers"],null,null,"AIzaSyA58TaKli1DculwmAmbpzLVGuWc8eCQgQc","https://developerscontentserving-pa.googleapis.com","AIzaSyDWBU60w0P9hEkr29kkksYs8Z7gvZ8u_wc","https://developerscontentsearch-pa.googleapis.com",2,4,null,"https://developerprofiles-pa.googleapis.com",[59,"googledevai","Google AI for Developers","ai.google.dev",null,"googledevai-dot-devsite-v2-prod-3p.appspot.com",null,null,[null,1,null,null,null,null,null,null,null,null,null,[1],null,null,null,null,null,null,[1],null,null,null,null,[1,null,1],[1,1,null,1,1]],null,[73,null,null,null,null,null,"/images/lockup-new.svg","/images/touchicon-180-new.png",null,null,null,null,1,1,null,null,null,null,null,null,null,1,null,null,null,"/images/lockup-dark-theme-new.svg",[]],[],null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,[[],[1,1]],[[null,null,null,null,null,["GTM-TC2MQKS8"],null,null,null,null,null,[["GTM-TC2MQKS8",1]],1]],null,4]]')
  
</script>
    <devsite-a11y-announce></devsite-a11y-announce>
  </body>
</html>