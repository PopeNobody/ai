<!doctype html>
<html 
      lang="de-x-mtfrom-en"
      dir="ltr">
  <head>
    <meta name="google-signin-client-id" content="157101835696-ooapojlodmuabs2do2vuhhnf90bccmoi.apps.googleusercontent.com">
    <meta name="google-signin-scope"
          content="profile email https://www.googleapis.com/auth/developerprofiles https://www.googleapis.com/auth/developerprofiles.award">
    <meta property="og:site_name" content="Google AI for Developers">
    <meta property="og:type" content="website"><meta name="theme-color" content="#1967d2"><meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    

    <link rel="manifest" href="/_pwa/googledevai/manifest.json"
          crossorigin="use-credentials">
    <link rel="preconnect" href="//www.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="//apis.google.com" crossorigin>
    <link rel="preconnect" href="//www.google-analytics.com" crossorigin><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Google+Sans:400,500|Roboto:400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700&display=swap">
      <link rel="stylesheet"
            href="//fonts.googleapis.com/css2?family=Material+Icons&family=Material+Symbols+Outlined&display=block"><link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/googledevai/css/app.css">
      <link rel="shortcut icon" href="https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/googledevai/images/favicon-new.png">
    <link rel="apple-touch-icon" href="https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/googledevai/images/touchicon-180-new.png"><link rel="canonical" href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=de"><link rel="search" type="application/opensearchdescription+xml"
            title="Google AI for Developers" href="https://ai.google.dev/s/opensearch.xml?hl=de">
      <link rel="alternate" hreflang="en"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval" /><link rel="alternate" hreflang="x-default" href="https://ai.google.dev/gemini-api/docs/semantic_retrieval" /><link rel="alternate" hreflang="ar"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=ar" /><link rel="alternate" hreflang="bn"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=bn" /><link rel="alternate" hreflang="zh-Hans"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=zh-cn" /><link rel="alternate" hreflang="zh-Hant"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=zh-tw" /><link rel="alternate" hreflang="fa"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=fa" /><link rel="alternate" hreflang="fr"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=fr" /><link rel="alternate" hreflang="de"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=de" /><link rel="alternate" hreflang="he"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=he" /><link rel="alternate" hreflang="hi"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=hi" /><link rel="alternate" hreflang="id"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=id" /><link rel="alternate" hreflang="it"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=it" /><link rel="alternate" hreflang="ja"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=ja" /><link rel="alternate" hreflang="ko"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=ko" /><link rel="alternate" hreflang="pl"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=pl" /><link rel="alternate" hreflang="pt-BR"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=pt-br" /><link rel="alternate" hreflang="ru"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=ru" /><link rel="alternate" hreflang="es-419"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=es-419" /><link rel="alternate" hreflang="th"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=th" /><link rel="alternate" hreflang="tr"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=tr" /><link rel="alternate" hreflang="vi"
          href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=vi" /><title>Erste Schritte mit dem semantischen Abruf &nbsp;|&nbsp; Gemini API &nbsp;|&nbsp; Google AI for Developers</title>

<meta property="og:title" content="Erste Schritte mit dem semantischen Abruf &nbsp;|&nbsp; Gemini API &nbsp;|&nbsp; Google AI for Developers"><meta property="og:url" content="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=de"><meta property="og:image" content="https://ai.google.dev/static/site-assets/images/share.png?hl=de">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="675"><meta property="og:locale" content="de"><meta name="twitter:card" content="summary_large_image"><script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    
    "headline": "Erste Schritte mit dem semantischen Abruf"
  }
</script><script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [{
      "@type": "ListItem",
      "position": 1,
      "name": "Gemini API",
      "item": "https://ai.google.dev/gemini-api"
    },{
      "@type": "ListItem",
      "position": 2,
      "name": "Erste Schritte mit dem semantischen Abruf",
      "item": "https://ai.google.dev/gemini-api/docs/semantic_retrieval"
    }]
  }
  </script><link rel="alternate machine-translated-from" hreflang="en"
        href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=en">
  

  

  

  

  


    
      <link rel="stylesheet" href="/extras.css"></head>
  <body class=""
        template="page"
        theme="googledevai-theme"
        type="article"
        
        
        
        layout="docs"
        
        
        
        
        display-toc
        pending>
    <devsite-progress type="indeterminate" id="app-progress"></devsite-progress>
  
    <section class="devsite-wrapper">
      <devsite-cookie-notification-bar></devsite-cookie-notification-bar><devsite-header role="banner" keep-tabs-visible>
  
    























<div class="devsite-header--inner nocontent">
  <div class="devsite-top-logo-row-wrapper-wrapper">
    <div class="devsite-top-logo-row-wrapper">
      <div class="devsite-top-logo-row">
        <button type="button" id="devsite-hamburger-menu"
          class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Navigation menu button"
          visually-hidden
          aria-label="Menü öffnen">
        </button>
        <div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="geminiAPI" track-metadata-position="nav"
   track-metadata-eventDetail="nav">
  
  <picture>
    
    <img src="https://ai.google.dev/_static/googledevai/images/lockup-new.svg?hl=de" class="devsite-site-logo" alt="Gemini API">
  </picture>
  
</a>



  
  
  <span class="devsite-product-name">
    <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
      
    
  </li>
  
</ul>
  </span>

</div>
        <div class="devsite-top-logo-row-middle">
          <div class="devsite-header-upper-tabs">
            
              
              
  <devsite-tabs class="upper-tabs">

    <nav class="devsite-tabs-wrapper" aria-label="Obere Tabs">
      
        
          <tab  class="devsite-active">
            
    <a href="https://ai.google.dev/gemini-api/docs?hl=de"
      track-metadata-eventdetail="https://ai.google.dev/gemini-api/docs?hl=de"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - gemini api"
       track-metadata-module="primary nav"
       aria-label="Gemini API, selected" 
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Gemini API"
         
           track-name="gemini api"
         
       >
    Gemini API
  
    </a>
  
  
          </tab>
        
      
        
          <tab  >
            
    <a href="https://aistudio.google.com?hl=de"
      track-metadata-eventdetail="https://aistudio.google.com?hl=de"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - google ai studio"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Google AI Studio"
         
           track-name="google ai studio"
         
       >
    Google AI Studio
  
    </a>
  
  
          </tab>
        
      
        
          <tab  >
            
    <a href="https://ai.google.dev/gemma?hl=de"
      track-metadata-eventdetail="https://ai.google.dev/gemma?hl=de"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - gemma"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Gemma"
         
           track-name="gemma"
         
       >
    Gemma
  
    </a>
  
  
          </tab>
        
      
        
          <tab  >
            
    <a href="https://ai.google.dev/edge?hl=de"
      track-metadata-eventdetail="https://ai.google.dev/edge?hl=de"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - google ai edge"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Google AI Edge"
         
           track-name="google ai edge"
         
       >
    Google AI Edge
  
    </a>
  
  
          </tab>
        
      
        
          <tab class="devsite-dropdown
    
    
    
    ">
  
    <span
  
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - tools"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Tools"
         
           track-name="tools"
         
       >
    Tools
  
    </span>
  
  
    <a href="#"
       role="button"
       aria-haspopup="true"
       aria-expanded="false"
       aria-label="Drop-down-Menü für Tools"
       track-type="nav"
       track-metadata-eventdetail=""
       track-metadata-position="nav - tools"
       track-metadata-module="primary nav"
       
        
          data-category="Site-Wide Custom Events"
        
          data-label="Tab: Tools"
        
          track-name="tools"
        
      
       class="devsite-tabs-dropdown-toggle devsite-icon devsite-icon-arrow-drop-down"></a>
  
  <div class="devsite-tabs-dropdown" aria-label="submenu" hidden>
    
    <div class="devsite-tabs-dropdown-content">
      
        <div class="devsite-tabs-dropdown-column
                    ">
          
            <ul class="devsite-tabs-dropdown-section
                       ">
              
              
              
                <li class="devsite-nav-item">
                  <a href="https://ai.google.dev/responsible?hl=de"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://ai.google.dev/responsible?hl=de"
                     track-metadata-position="nav - tools"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Toolkit für Responsible Generative AI
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://colab.google/?hl=de"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://colab.google/?hl=de"
                     track-metadata-position="nav - tools"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Colab
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/genkit?hl=de"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://firebase.google.com/docs/genkit?hl=de"
                     track-metadata-position="nav - tools"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Firebase Genkit
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://jax.readthedocs.io/"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://jax.readthedocs.io/"
                     track-metadata-position="nav - tools"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      JAX
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://keras.io/"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://keras.io/"
                     track-metadata-position="nav - tools"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Keras
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://www.tensorflow.org/?hl=de"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://www.tensorflow.org/?hl=de"
                     track-metadata-position="nav - tools"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      TensorFlow
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
    </div>
  </div>
</tab>
        
      
        
          <tab  >
            
    <a href="https://discuss.ai.google.dev/?hl=de"
      track-metadata-eventdetail="https://discuss.ai.google.dev/?hl=de"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - community"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Community"
         
           track-name="community"
         
       >
    Community
  
    </a>
  
  
          </tab>
        
      
    </nav>

  </devsite-tabs>

            
           </div>
          
<devsite-search
    enable-signin
    enable-search
    enable-suggestions
      enable-query-completion
    
    
    project-name="Gemini API"
    tenant-name="Google AI for Developers"
    
    
    
    
    
    >
  <form class="devsite-search-form" action="https://ai.google.dev/s/results?hl=de" method="GET">
    <div class="devsite-search-container">
      <button type="button"
              search-open
              class="devsite-search-button devsite-header-icon-button button-flat material-icons"
              
              aria-label="Suche öffnen"></button>
      <div class="devsite-searchbox">
        <input
          aria-activedescendant=""
          aria-autocomplete="list"
          
          aria-label="Suche"
          aria-expanded="false"
          aria-haspopup="listbox"
          autocomplete="off"
          class="devsite-search-field devsite-search-query"
          name="q"
          
          placeholder="Suche"
          role="combobox"
          type="text"
          value=""
          >
          <div class="devsite-search-image material-icons" aria-hidden="true">
            
          </div>
          <div class="devsite-search-shortcut-icon-container" aria-hidden="true">
            <kbd class="devsite-search-shortcut-icon">/</kbd>
          </div>
      </div>
    </div>
  </form>
  <button type="button"
          search-close
          class="devsite-search-button devsite-header-icon-button button-flat material-icons"
          
          aria-label="Suche schließen"></button>
</devsite-search>

        </div>

        

        

        

        
<devsite-language-selector>
  <ul role="presentation">
    
    
    <li role="presentation">
      <a role="menuitem" lang="en"
        >English</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="de"
        >Deutsch</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="es_419"
        >Español – América Latina</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="fr"
        >Français</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="id"
        >Indonesia</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="it"
        >Italiano</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pl"
        >Polski</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pt_br"
        >Português – Brasil</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="vi"
        >Tiếng Việt</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="tr"
        >Türkçe</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ru"
        >Русский</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="he"
        >עברית</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ar"
        >العربيّة</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="fa"
        >فارسی</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="hi"
        >हिंदी</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="bn"
        >বাংলা</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="th"
        >ภาษาไทย</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_cn"
        >中文 – 简体</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_tw"
        >中文 – 繁體</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ja"
        >日本語</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ko"
        >한국어</a>
    </li>
    
  </ul>
</devsite-language-selector>


        

        
          
          
          <devsite-user 
                        
                        
                          enable-profiles
                        
                        
                        id="devsite-user">
            
              
              <span class="button devsite-top-button" aria-hidden="true" visually-hidden>Anmelden</span>
            
        </devsite-user>
           
        
      </div>
    </div>
  </div>



  <div class="devsite-collapsible-section
    ">
    <div class="devsite-header-background">
      
        
      
      
        <div class="devsite-doc-set-nav-row">
          
          
            
            
  <devsite-tabs class="lower-tabs">

    <nav class="devsite-tabs-wrapper" aria-label="Untere Tabs">
      
        
          <tab  class="devsite-active">
            
    <a href="https://ai.google.dev/gemini-api/docs?hl=de"
      track-metadata-eventdetail="https://ai.google.dev/gemini-api/docs?hl=de"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - dokumentation"
       track-metadata-module="primary nav"
       aria-label="Dokumentation, selected" 
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Dokumentation"
         
           track-name="dokumentation"
         
       >
    Dokumentation
  
    </a>
  
  
          </tab>
        
      
        
          <tab  >
            
    <a href="https://ai.google.dev/api?hl=de"
      track-metadata-eventdetail="https://ai.google.dev/api?hl=de"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - api-referenz"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: API-Referenz"
         
           track-name="api-referenz"
         
       >
    API-Referenz
  
    </a>
  
  
          </tab>
        
      
        
          <tab  >
            
    <a href="https://ai.google.dev/pricing?hl=de"
      track-metadata-eventdetail="https://ai.google.dev/pricing?hl=de"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - preise"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Preise"
         
           track-name="preise"
         
       >
    Preise
  
    </a>
  
  
          </tab>
        
      
    </nav>

  </devsite-tabs>

          
          
        </div>
      
    </div>
  </div>

</div>



  

  
</devsite-header>
      <devsite-book-nav scrollbars >
        
          





















<div class="devsite-book-nav-filter"
     hidden>
  <span class="filter-list-icon material-icons" aria-hidden="true"></span>
  <input type="text"
         placeholder="Filter"
         
         aria-label="Geben Sie zum Filtern Text ein"
         role="searchbox">
  
  <span class="filter-clear-button hidden"
        data-title="Filter entfernen"
        aria-label="Filter entfernen"
        role="button"
        tabindex="0"></span>
</div>

<nav class="devsite-book-nav devsite-nav nocontent"
     aria-label="Seitliches Menü">
  <div class="devsite-mobile-header">
    <button type="button"
            id="devsite-close-nav"
            class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Close navigation"
            aria-label="Navigation schließen">
    </button>
    <div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="geminiAPI" track-metadata-position="nav"
   track-metadata-eventDetail="nav">
  
  <picture>
    
    <img src="https://ai.google.dev/_static/googledevai/images/lockup-new.svg?hl=de" class="devsite-site-logo" alt="Gemini API">
  </picture>
  
</a>


  
      <span class="devsite-product-name">
        
        
        <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
      
    
  </li>
  
</ul>
      </span>
    

</div>
  </div>

  <div class="devsite-book-nav-wrapper">
    <div class="devsite-mobile-nav-top">
      
        <ul class="devsite-nav-list">
          
            <li class="devsite-nav-item">
              
  
  <a href="/gemini-api/docs"
    
       class="devsite-nav-title gc-analytics-event
              
              devsite-nav-active"
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Gemini API"
      
        track-name="gemini api"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Gemini API"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Gemini API
   </span>
    
  
  </a>
  

  
              
                <ul class="devsite-nav-responsive-tabs">
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/gemini-api/docs"
    
       class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children
              devsite-nav-active"
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Dokumentation"
      
        track-name="dokumentation"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Dokumentation"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip menu="_book">
      Dokumentation
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          menu="_book">
    </span>
    
  
  </a>
  

  
                    </li>
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/api"
    
       class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children
              "
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: API-Referenz"
      
        track-name="api-referenz"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: API-Referenz"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      API-Referenz
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          >
    </span>
    
  
  </a>
  

  
                    </li>
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/pricing"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Preise"
      
        track-name="preise"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Preise"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Preise
   </span>
    
  
  </a>
  

  
                    </li>
                  
                </ul>
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="https://aistudio.google.com"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Google AI Studio"
      
        track-name="google ai studio"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google AI Studio"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Google AI Studio
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/gemma"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Gemma"
      
        track-name="gemma"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Gemma"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Gemma
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/edge"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Google AI Edge"
      
        track-name="google ai edge"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google AI Edge"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Google AI Edge
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Tools"
      
        track-name="tools"
      
    >
  
    <span class="devsite-nav-text" tooltip >
      Tools
   </span>
    
  
  </span>
  

  
    <ul class="devsite-nav-responsive-tabs devsite-nav-has-menu
               ">
      
<li class="devsite-nav-item">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Tools"
      
        track-name="tools"
      
    >
  
    <span class="devsite-nav-text" tooltip menu="Tools">
      Mehr
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          menu="Tools">
    </span>
    
  
  </span>
  

</li>

    </ul>
  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="https://discuss.ai.google.dev/"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Community"
      
        track-name="community"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Community"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Community
   </span>
    
  
  </a>
  

  
              
            </li>
          
          
          
        </ul>
      
    </div>
    
      <div class="devsite-mobile-nav-bottom">
        
          
          <ul class="devsite-nav-list" menu="_book">
            <li class="devsite-nav-item"><a href="/gemini-api/docs"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs"
      ><span class="devsite-nav-text" tooltip>Übersicht</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Jetzt starten</span>
      </div></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/api-key"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/api-key"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/api-key"
      ><span class="devsite-nav-text" tooltip>API-Schlüssel</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/quickstart"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/quickstart"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/quickstart"
      ><span class="devsite-nav-text" tooltip>Kurzanleitung</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/downloads"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/downloads"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/downloads"
      data-synonyms="SDKs, python, go, node.js, node, typescript, flutter, dart, install, library, libraries, swift, android"><span class="devsite-nav-text" tooltip>Bibliotheken</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/changelog"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/changelog"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/changelog"
      ><span class="devsite-nav-text" tooltip>Versionshinweise</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Modelle</span>
      </div></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/models/gemini"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/models/gemini"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/models/gemini"
      data-synonyms="gemini-pro, gemini-pro-1.0, gemini-pro-vision, gemini 1.5 flash, gemini-1.5-flash, gemini, flash, pro, gemini-pro-1.5, gemini pro, text embedding, text embeddings, text-embedding-004"><span class="devsite-nav-text" tooltip>Gemini</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-experimental"><a href="/gemini-api/docs/models/experimental-models"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/models/experimental-models"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/models/experimental-models"
      ><span class="devsite-nav-text" tooltip>Experimentelle Modelle</span><span class="devsite-nav-icon material-icons"
        data-icon="experimental"
        data-title="In Entwicklungsphase"
        aria-hidden="true"></span></a></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Leistungsspektrum</span>
      </div></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/text-generation"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/text-generation"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/text-generation"
      ><span class="devsite-nav-text" tooltip>Textgenerierung</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/document-processing"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/document-processing"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/document-processing"
      ><span class="devsite-nav-text" tooltip>Dokumentverarbeitung</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/vision"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/vision"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/vision"
      ><span class="devsite-nav-text" tooltip>Vision</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/audio"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/audio"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/audio"
      ><span class="devsite-nav-text" tooltip>Audio</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/long-context"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/long-context"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/long-context"
      ><span class="devsite-nav-text" tooltip>Langer Kontext</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Nullniveau</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/gemini-api/docs/grounding"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/grounding"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/grounding"
      ><span class="devsite-nav-text" tooltip>Fundierung mit der Google Suche</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/docs/grounding/search-suggestions"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/grounding/search-suggestions"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/grounding/search-suggestions"
      ><span class="devsite-nav-text" tooltip>Google-Suchvorschläge verwenden</span></a></li></ul></div></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/code-execution"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/code-execution"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/code-execution"
      ><span class="devsite-nav-text" tooltip>Codeausführung</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/structured-output"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/structured-output"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/structured-output"
      ><span class="devsite-nav-text" tooltip>Strukturierte Ausgabe</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Optimierung</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/gemini-api/docs/model-tuning"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/model-tuning"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/model-tuning"
      ><span class="devsite-nav-text" tooltip>Einführung in die Feinabstimmung</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/docs/model-tuning/tutorial"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/model-tuning/tutorial"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/model-tuning/tutorial"
      ><span class="devsite-nav-text" tooltip>Anleitung zur Optimierung</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Funktionsaufrufe</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/gemini-api/docs/function-calling"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/function-calling"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/function-calling"
      ><span class="devsite-nav-text" tooltip>Einführung in Funktionsaufrufe</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/docs/function-calling/tutorial"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/function-calling/tutorial"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/function-calling/tutorial"
      ><span class="devsite-nav-text" tooltip>Anleitung für Funktionsaufrufe</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/tutorials/extract_structured_data"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/tutorials/extract_structured_data"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/tutorials/extract_structured_data"
      ><span class="devsite-nav-text" tooltip>Strukturierte Daten extrahieren</span></a></li></ul></div></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/system-instructions"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/system-instructions"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/system-instructions"
      ><span class="devsite-nav-text" tooltip>Systemanweisungen</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/embeddings"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/embeddings"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/embeddings"
      ><span class="devsite-nav-text" tooltip>Einbettungen</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Sicherheit</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/gemini-api/docs/safety-settings"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/safety-settings"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/safety-settings"
      ><span class="devsite-nav-text" tooltip>Sicherheits­einstellungen</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/docs/safety-guidance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/safety-guidance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/safety-guidance"
      ><span class="devsite-nav-text" tooltip>Sicherheitshinweise</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Leitfäden</span>
      </div></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/caching"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/caching"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/caching"
      ><span class="devsite-nav-text" tooltip>Kontext-Caching</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/imagen"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/imagen"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/imagen"
      ><span class="devsite-nav-text" tooltip>Imagen 3</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/tokens"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/tokens"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/tokens"
      ><span class="devsite-nav-text" tooltip>Token</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Aufforderungen</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/gemini-api/docs/prompting-intro"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/prompting-intro"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/prompting-intro"
      ><span class="devsite-nav-text" tooltip>Einführung in Prompts</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/docs/prompting-strategies"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/prompting-strategies"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/prompting-strategies"
      ><span class="devsite-nav-text" tooltip>Prompt-Strategien</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/docs/file-prompting-strategies"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/file-prompting-strategies"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/file-prompting-strategies"
      ><span class="devsite-nav-text" tooltip>Strategien für Dateiaufforderung</span></a></li></ul></div></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/semantic_retrieval"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/semantic_retrieval"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/semantic_retrieval"
      ><span class="devsite-nav-text" tooltip>Semantischer Abruf</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/models/generative-models"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/models/generative-models"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/models/generative-models"
      ><span class="devsite-nav-text" tooltip>Informationen zu generativen Modellen</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/billing"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/billing"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/billing"
      ><span class="devsite-nav-text" tooltip>Abrechnung</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-experimental"><a href="/gemini-api/docs/openai"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/openai"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/openai"
      ><span class="devsite-nav-text" tooltip>Kompatibilität mit OpenAI</span><span class="devsite-nav-icon material-icons"
        data-icon="experimental"
        data-title="In Entwicklungsphase"
        aria-hidden="true"></span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/migrate-to-cloud"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/migrate-to-cloud"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/migrate-to-cloud"
      ><span class="devsite-nav-text" tooltip>Zu Cloud migrieren</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Zusätzliche Ressourcen</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/gemini-api/docs/ai-studio-quickstart"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/ai-studio-quickstart"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/ai-studio-quickstart"
      ><span class="devsite-nav-text" tooltip>Google AI Studio – Kurzanleitung</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/docs/get-started/android_aicore"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/get-started/android_aicore"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/get-started/android_aicore"
      ><span class="devsite-nav-text" tooltip>Android (auf dem Gerät)</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/docs/firebase-extensions"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/firebase-extensions"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/firebase-extensions"
      ><span class="devsite-nav-text" tooltip>Firebase-Erweiterungen</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/docs/oauth"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/oauth"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/oauth"
      ><span class="devsite-nav-text" tooltip>Authentifizierung mit OAuth</span></a></li><li class="devsite-nav-item
           devsite-nav-experimental"><a href="/gemini-api/docs/learnlm"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/learnlm"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/learnlm"
      ><span class="devsite-nav-text" tooltip>LearnLM</span><span class="devsite-nav-icon material-icons"
        data-icon="experimental"
        data-title="In Entwicklungsphase"
        aria-hidden="true"></span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Anwendungsfälle</span>
      </div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Anwendungen</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/gemini-api/tutorials/pipet-code-agent"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/tutorials/pipet-code-agent"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/tutorials/pipet-code-agent"
      ><span class="devsite-nav-text" tooltip>Codeassistent</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/tutorials/flutter-theme-agent"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/tutorials/flutter-theme-agent"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/tutorials/flutter-theme-agent"
      ><span class="devsite-nav-text" tooltip>Flutter-Codegenerator</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/tutorials/docs-agent"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/tutorials/docs-agent"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/tutorials/docs-agent"
      ><span class="devsite-nav-text" tooltip>Inhaltssuche</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/tutorials/sql-talk"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/tutorials/sql-talk"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/tutorials/sql-talk"
      ><span class="devsite-nav-text" tooltip>Datenexplorations-Agent</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/tutorials/wordcraft"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/tutorials/wordcraft"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/tutorials/wordcraft"
      ><span class="devsite-nav-text" tooltip>Schreibassistent</span></a></li><li class="devsite-nav-item"><a href="/gemini-api/tutorials/slides-advisor"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/tutorials/slides-advisor"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/tutorials/slides-advisor"
      ><span class="devsite-nav-text" tooltip>Prüfer von Google Präsentationen</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Fehlerbehebung</span>
      </div></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/troubleshooting"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/troubleshooting"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/troubleshooting"
      ><span class="devsite-nav-text" tooltip>API-Fehlerbehebung</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/troubleshoot-ai-studio"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/troubleshoot-ai-studio"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/troubleshoot-ai-studio"
      ><span class="devsite-nav-text" tooltip>Fehlerbehebung in AI Studio</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/workspace"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/workspace"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/workspace"
      ><span class="devsite-nav-text" tooltip>AI Studio mit Google Workspace</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/quota"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/quota"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/quota"
      ><span class="devsite-nav-text" tooltip>Höheres Kontingent beantragen</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Community</span>
      </div></li>

  <li class="devsite-nav-item
           devsite-nav-external"><a href="https://discuss.ai.google.dev/"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: https://discuss.ai.google.dev/"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="https://discuss.ai.google.dev/"
      ><span class="devsite-nav-text" tooltip>Entwicklerforum</span><span class="devsite-nav-icon material-icons"
        data-icon="external"
        data-title="Extern"
        aria-hidden="true"></span></a></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Rechtliche Informationen</span>
      </div></li>

  <li class="devsite-nav-item"><a href="/gemini-api/terms"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/terms"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/terms"
      ><span class="devsite-nav-text" tooltip>Nutzungsbedingungen</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/available-regions"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/available-regions"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/available-regions"
      ><span class="devsite-nav-text" tooltip>Verfügbare Regionen</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/abuse-monitoring"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/abuse-monitoring"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/abuse-monitoring"
      ><span class="devsite-nav-text" tooltip>Missbrauchsüberwachung</span></a></li>
          </ul>
        
        
          
    
  
    
  
    
  
    
  
    
      
      <ul class="devsite-nav-list" menu="Tools"
          aria-label="Seitliches Menü" hidden>
        
          
            
            
              
<li class="devsite-nav-item">

  
  <a href="/responsible"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Toolkit für Responsible Generative AI"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Toolkit für Responsible Generative AI
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="https://colab.google/"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Colab"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Colab
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="https://firebase.google.com/docs/genkit"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Firebase Genkit"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Firebase Genkit
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="https://jax.readthedocs.io/"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: JAX"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      JAX
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="https://keras.io/"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Keras"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Keras
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="https://www.tensorflow.org/"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: TensorFlow"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      TensorFlow
   </span>
    
  
  </a>
  

</li>

            
          
        
      </ul>
    
  
    
  
        
        
          
    
  
    
  
    
  
        
      </div>
    
  </div>
</nav>
        
      </devsite-book-nav>
      <section id="gc-wrapper">
        <main role="main" class="devsite-main-content"
            
              has-book-nav
              has-sidebar
            >
          
          
          <div class="devsite-sidebar">
            <div class="devsite-sidebar-content">
                
                <devsite-toc class="devsite-nav"
                            role="navigation"
                            aria-label="Auf dieser Seite"
                            depth="2"
                            scrollbars
                  ></devsite-toc>
                <devsite-recommendations-sidebar class="nocontent devsite-nav">
                </devsite-recommendations-sidebar>
            </div>
          </div>
          
          <devsite-content>
            
              














<article class="devsite-article">
  
  
  
    <div class="devsite-banner devsite-banner-announcement nocontent"
      
        
    background="google-blue"
  
      >
      <div class="devsite-banner-message">
        <div class="devsite-banner-message-text">
          
    Die Funktion „Fundierung mit der Google Suche“ ist jetzt verfügbar. <a class="button button-primary"   href="https://developers.googleblog.com/en/gemini-api-and-ai-studio-now-offer-grounding-with-google-search">Weitere Informationen</a>

  
        </div>
      </div>
    </div>
  
  
  
    <div class="devsite-banner devsite-banner-translated nocontent">
      <div class="devsite-banner-message">
        <div class="devsite-banner-message-text">
          <img src="https://ai.google.dev/_static/images/translated.svg?hl=de"
               class="devsite-banner-translated-image invert"
               alt="">
          <span class="devsite-banner-translated-text">
            
            Diese Seite wurde von der <a href="//cloud.google.com/translate/?hl=de">Cloud Translation API</a> übersetzt.
          </span>
        </div>
        <devsite-switch-to-english-button></devsite-switch-to-english-button>
      </div>
    </div>
  

  <div class="devsite-article-meta nocontent" role="navigation">
    
    
    <ul class="devsite-breadcrumb-list"
  
    aria-label="Navigationspfad">
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
  <a href="https://ai.google.dev/?hl=de"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="1"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="1"
      
        track-metadata-eventdetail=""
      
    >
    
        Startseite
      
  </a>
  
    
  </li>
  
  <li class="devsite-breadcrumb-item
             ">
    
      
      <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
    
    
    
      
  <a href="https://ai.google.dev/gemini-api?hl=de"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="2"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="2"
      
        track-metadata-eventdetail="Gemini API"
      
    >
    
        Gemini API
      
  </a>
  
    
  </li>
  
  <li class="devsite-breadcrumb-item
             ">
    
      
      <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
    
    
    
      
  <a href="https://ai.google.dev/gemini-api/docs?hl=de"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="3"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="3"
      
        track-metadata-eventdetail=""
      
    >
    
        Dokumentation
      
  </a>
  
    
  </li>
  
</ul>
    
      
    <devsite-thumb-rating position="header">
    </devsite-thumb-rating>
  
    
  </div>
  
    <devsite-feedback
  position="header"
  project-name="Gemini API"
  product-id="5292923"
  bucket="documentation"
  context=""
  version="t-devsite-webserver-20241114-r00-rc02.464921008191574316"
  data-label="Send Feedback Button"
  track-type="feedback"
  track-name="sendFeedbackLink"
  track-metadata-position="header"
  class="nocontent"
  
  
  
    project-icon="https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/googledevai/images/touchicon-180-new.png"
  
  
  
  >

  <button>
  
    
    Feedback geben
  
  </button>
</devsite-feedback>
  
    <h1 class="devsite-page-title" tabindex="-1">
      Erste Schritte mit dem semantischen Abruf
      
    </h1>
  <devsite-feature-tooltip
      ack-key="AckCollectionsBookmarkTooltipDismiss"
      analytics-category="Site-Wide Custom Events"
      analytics-action-show="Callout Profile displayed"
      analytics-action-close="Callout Profile dismissed"
      analytics-label="Create Collection Callout"
      class="devsite-page-bookmark-tooltip nocontent"
      dismiss-button="true"
      id="devsite-collections-dropdown"
      
      dismiss-button-text="Schließen"

      
      close-button-text="Ok">

    
    <devsite-bookmark></devsite-bookmark>

    <span slot="popout-heading">
      
      Mit Sammlungen den Überblick behalten
    </span>
    <span slot="popout-contents">
      
      Sie können Inhalte basierend auf Ihren Einstellungen speichern und kategorisieren.
    </span>
  </devsite-feature-tooltip>
  <div class="devsite-page-title-meta"><devsite-view-release-notes></devsite-view-release-notes></div>
  

  <devsite-toc class="devsite-nav"
    depth="2"
    devsite-toc-embedded
    >
  </devsite-toc>
  
    
  

  






<div class="devsite-article-body clearfix
  ">

  
    
    
<p><devsite-mathjax config="TeX-AMS-MML_SVG"></devsite-mathjax>

</p>



<table align="left" class="tfo-notebook-buttons">
  <tbody><tr><td>
    <a href="https://ai.google.dev/gemini-api/docs/semantic_retrieval?hl=de"target="_blank"><img height="32" src="https://ai.google.dev/static/site-assets/images/docs/notebook-site-button.png?hl=de" width="32" />Auf ai.google.dev ansehen</a>
 </td><td>
    <a href="https://colab.research.google.com/github/google/generative-ai-docs/blob/main/site/en/gemini-api/docs/semantic_retrieval.ipynb?hl=de"target="_blank"><img src="https://www.tensorflow.org/images/colab_logo_32px.png?hl=de" />Colab-Notebook testen</a>
  </td>
  <td>
    <a href="https://github.com/google/generative-ai-docs/blob/main/site/en/gemini-api/docs/semantic_retrieval.ipynb"target="_blank"><img src="https://www.tensorflow.org/images/GitHub-Mark-32px.png?hl=de" />Notebook auf GitHub ansehen</a>
  </td>
</tr></tbody></table>

<h2 data-text="Übersicht" id="overview" tabindex="-1">Übersicht</h2>

<p>Large Language Models (LLMs) können neue Fähigkeiten erlernen, ohne dass sie direkt darauf trainiert werden. LLMs können jedoch „halluzinieren“, wenn sie auf Fragen antworten sollen, für die sie nicht trainiert wurden. Das liegt zum Teil daran, dass LLMs nach dem Training keine Ereignisse kennen. Außerdem ist es sehr schwierig, die Quellen zu ermitteln, aus denen LLMs ihre Antworten beziehen. Für zuverlässige, skalierbare Anwendungen ist es wichtig, dass ein LLM Antworten liefert, die auf Fakten basieren und seine Informationsquellen zitieren kann.</p>

<p>Ein gängiger Ansatz, um diese Einschränkungen zu überwinden, wird als Retrieval-Augmented Generation (RAG) bezeichnet. Dabei wird der an ein LLM gesendete Prompt mit relevanten Daten erweitert, die über einen Informationsabrufmechanismus (Information Retrieval, IR) aus einer externen Wissensdatenbank abgerufen werden. Die Wissensdatenbank kann aus Ihren eigenen Dokumenten, Datenbanken oder APIs bestehen.</p>

<p>In diesem Notebook wird ein Workflow beschrieben, mit dem Sie die Antwort eines LLM verbessern können, indem Sie sein Wissen mit externen Textkorpora ergänzen und semantische Informationen abrufen, um Fragen mithilfe des Semantic Retriever und der AQA-APIs (Attributed Question and Answering) der Generative Language API zu beantworten.</p>
<aside class="note"><strong>Hinweis</strong>:<span> Diese API befindet sich derzeit in der <a href="https://ai.google.dev/gemini-api/docs/api-versions?hl=de">Betaphase</a> und ist <a href="https://ai.google.dev/gemini-api/docs/available-regions?hl=de">nur in bestimmten Regionen verfügbar</a>.</span></aside>
<h2 data-text="Einrichtung" id="setup" tabindex="-1">Einrichtung</h2>

<h3 data-text="Generative Language API importieren" id="import_the_generative_language_api" tabindex="-1">Generative Language API importieren</h3>

<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Bash"><code class='devsite-terminal' translate="no" dir="ltr"><span class="devsite-syntax-c1"># Install the Client library (Semantic Retriever is only supported for versions >0.4.0)</span></code>
<code class='devsite-terminal' translate="no" dir="ltr">pip<span class="devsite-syntax-w"> </span>install<span class="devsite-syntax-w"> </span>-U<span class="devsite-syntax-w"> </span>google.ai.generativelanguage</code></pre></devsite-code>

<h2 data-text="Authentifizieren" id="authenticate" tabindex="-1">Authentifizieren</h2>

<p>Mit der Semantic Retriever API können Sie semantische Suchanfragen auf Ihre eigenen Daten anwenden. Da es sich um <strong>Ihre Daten</strong> handelt, sind hier strengere Zugriffssteuerungen als bei API-Schlüsseln erforderlich. Authentifizieren Sie sich mit OAuth über <a href="#service_oauth">Dienstkonten</a> oder über Ihre <a href="#user_oauth">Nutzeranmeldedaten</a>.</p>

<p>In dieser Kurzanleitung wird ein vereinfachter Authentifizierungsansatz für eine Testumgebung verwendet. Die Einrichtung von Dienstkonten ist in der Regel einfacher. Für eine Produktionsumgebung sollten Sie sich über die <a class="external" href="https://developers.google.com/workspace/guides/auth-overview?hl=de" >Authentifizierung und Autorisierung</a> informieren, bevor Sie die für Ihre Anwendung geeigneten <a class="external" href="https://developers.google.com/workspace/guides/create-credentials?hl=de#choose_the_access_credential_that_is_right_for_you" >Anmeldedaten</a> auswählen.</p>

<h3 data-text="OAuth mit Dienstkonten einrichten" id="service-oauth" tabindex="-1">OAuth mit Dienstkonten einrichten</h3>

<p>So richten Sie OAuth mithilfe von Dienstkonten ein:</p>

<ol>
<li>Aktivieren Sie die <a class="external" href="https://console.cloud.google.com/flows/enableapi?apiid=generativelanguage.googleapis.com&hl=de" >Generative Language API</a>.</li>
</ol>

<p><img src="https://ai.google.dev/tutorials/images/semantic_retriever_enable_api.png?hl=de" width="400" /></p>

<ol>
<li><p>Erstellen Sie das Dienstkonto gemäß der <a class="external" href="https://developers.google.com/identity/protocols/oauth2/service-account?hl=de#creatinganaccount" >Dokumentation</a>.</p>

<ul>
<li>Nachdem Sie das Dienstkonto erstellt haben, generieren Sie einen Dienstkontoschlüssel.</li>
</ul></li>
</ol>

<p><img src="https://ai.google.dev/tutorials/images/semantic_retriever_service_account.png?hl=de" width="400" /></p>

<ol>
<li><p>Laden Sie die Datei Ihres Dienstkontos über das Dateisymbol in der linken Seitenleiste und dann über das Uploadsymbol hoch (siehe Screenshot unten).</p>

<ul>
<li>Benennen Sie die hochgeladene Datei in <code dir="ltr" translate="no">service_account_key.json</code> um oder ändern Sie die Variable <code dir="ltr" translate="no">service_account_file_name</code> im folgenden Code.</li>
</ul></li>
</ol>

<p><img src="https://ai.google.dev/tutorials/images/colab_upload.png?hl=de" width="400" /></p>

<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Bash"><code class='devsite-terminal' translate="no" dir="ltr">pip<span class="devsite-syntax-w"> </span>install<span class="devsite-syntax-w"> </span>-U<span class="devsite-syntax-w"> </span>google-auth-oauthlib</code></pre></devsite-code>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-n">service_account_file_name</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s1">'service_account_key.json'</span>

<span class="devsite-syntax-kn">from</span> <span class="devsite-syntax-nn">google.oauth2</span> <span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">service_account</span>

<span class="devsite-syntax-n">credentials</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">service_account</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Credentials</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">from_service_account_file</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">service_account_file_name</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-n">scoped_credentials</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">credentials</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">with_scopes</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-p">[</span><span class="devsite-syntax-s1">'https://www.googleapis.com/auth/cloud-platform'</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s1">'https://www.googleapis.com/auth/generative-language.retriever'</span><span class="devsite-syntax-p">])</span>
</code></pre></devsite-code>
<p>Initialisieren Sie die Clientbibliothek mit den Anmeldedaten des Dienstkontos.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-nn">google.ai.generativelanguage</span> <span class="devsite-syntax-k">as</span> <span class="devsite-syntax-nn">glm</span>
<span class="devsite-syntax-n">generative_service_client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GenerativeServiceClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">credentials</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">scoped_credentials</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">retriever_service_client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">RetrieverServiceClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">credentials</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">scoped_credentials</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">permission_service_client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">PermissionServiceClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">credentials</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">scoped_credentials</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h2 data-text="Korpus erstellen" id="create-corpus" tabindex="-1">Korpus erstellen</h2>

<p>Mit der Semantic Retriever API können Sie pro Projekt bis zu fünf benutzerdefinierte Textkorpora definieren. Sie können beim Definieren Ihrer Korpora eines der folgenden Felder angeben:</p>

<ul>
<li><code dir="ltr" translate="no">name</code>: Der Name (ID) der <code dir="ltr" translate="no">Corpus</code>-Ressource. Darf maximal 40 alphanumerische Zeichen enthalten. Wenn das Feld <code dir="ltr" translate="no">name</code> beim Erstellen leer ist, wird ein eindeutiger Name mit einer maximalen Länge von 40 Zeichen generiert. Er enthält ein Präfix aus dem Feld <code dir="ltr" translate="no">display_name</code> und ein zufälliges Suffix mit 12 Zeichen.</li>
<li><code dir="ltr" translate="no">display_name</code>: Der visuell lesbare Anzeigename für die <code dir="ltr" translate="no">Corpus</code>. Darf maximal 512 Zeichen enthalten, einschließlich alphanumerischer Zeichen, Leerzeichen und Bindestriche.</li>
</ul>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-n">example_corpus</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Corpus</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">display_name</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"Google for Developers Blog"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">create_corpus_request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CreateCorpusRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">corpus</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">example_corpus</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Make the request</span>
<span class="devsite-syntax-n">create_corpus_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">create_corpus</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">create_corpus_request</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Set the `corpus_resource_name` for subsequent sections.</span>
<span class="devsite-syntax-n">corpus_resource_name</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">create_corpus_response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">create_corpus_response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<div></div><devsite-code><pre class="tfo-notebook-code-cell-output" translate="no" dir="ltr" is-upgraded>
name&colon; &quot;corpora/google-for-developers-blog-dqrtz8rs0jg&quot;
display_name&colon; &quot;Google for Developers Blog&quot;
create_time {
  seconds&colon; 1713497533
  nanos&colon; 587977000
}
update_time {
  seconds&colon; 1713497533
  nanos&colon; 587977000
}
</pre></devsite-code>

<h3 data-text="Erstellten Korpus abrufen" id="get_the_created_corpus" tabindex="-1">Erstellten Korpus abrufen</h3>

<p>Verwenden Sie die Methode <code dir="ltr" translate="no">GetCorpusRequest</code>, um programmatisch auf die oben erstellte <code dir="ltr" translate="no">Corpus</code> zuzugreifen. Der Wert des Parameters <code dir="ltr" translate="no">name</code> bezieht sich auf den vollständigen Ressourcennamen der <code dir="ltr" translate="no">Corpus</code> und ist in der Zelle oben als <code dir="ltr" translate="no">corpus_resource_name</code> festgelegt. Das erwartete Format ist <code dir="ltr" translate="no">corpora/corpus-123</code>.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-n">get_corpus_request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GetCorpusRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">corpus_resource_name</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Make the request</span>
<span class="devsite-syntax-n">get_corpus_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">get_corpus</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">get_corpus_request</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Print the response</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">get_corpus_response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h2 data-text="Dokument erstellen" id="create_a_document" tabindex="-1">Dokument erstellen</h2>

<p>Ein <code dir="ltr" translate="no">Corpus</code> kann bis zu 10.000 <code dir="ltr" translate="no">Document</code> enthalten. Sie können bei der Definition Ihrer Dokumente eines der folgenden Felder angeben:</p>

<ul>
<li><code dir="ltr" translate="no">name</code>: Der Ressourcenname (ID) von <code dir="ltr" translate="no">Document</code>. Darf maximal 40 Zeichen lang sein (nur alphanumerische Zeichen oder Bindestriche). Die ID darf nicht mit einem Bindestrich beginnen oder enden. Wenn der Name bei der Erstellung leer ist, wird ein eindeutiger Name aus <code dir="ltr" translate="no">display_name</code> und einem zufälligen Suffix mit 12 Zeichen abgeleitet.</li>
<li><code dir="ltr" translate="no">display_name</code>: Der für Menschen lesbare Anzeigename. Darf höchstens 512 Zeichen enthalten, einschließlich alphanumerischer Zeichen, Leerzeichen und Bindestriche.</li>
</ul>

<p><code dir="ltr" translate="no">Document</code>s unterstützen außerdem bis zu 20 benutzerdefinierte <code dir="ltr" translate="no">custom_metadata</code>-Felder, die als Schlüssel/Wert-Paare angegeben werden. Benutzerdefinierte Metadaten können Strings, Listen von Strings oder Zahlen sein. Listen von Strings können maximal 10 Werte enthalten. Numerische Werte werden in der API als Gleitkommazahlen dargestellt.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Create a document with a custom display name.</span>
<span class="devsite-syntax-n">example_document</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Document</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">display_name</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"Introducing Project IDX, An Experiment to Improve Full-stack, Multiplatform App Development"</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Add metadata.</span>
<span class="devsite-syntax-c1"># Metadata also supports numeric values not specified here</span>
<span class="devsite-syntax-n">document_metadata</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span>
    <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CustomMetadata</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">key</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"url"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">string_value</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"https://developers.googleblog.com/2023/08/introducing-project-idx-experiment-to-improve-full-stack-multiplatform-app-development.html"</span><span class="devsite-syntax-p">)]</span>
<span class="devsite-syntax-n">example_document</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">custom_metadata</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">extend</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">document_metadata</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Make the request</span>
<span class="devsite-syntax-c1"># corpus_resource_name is a variable set in the "Create a corpus" section.</span>
<span class="devsite-syntax-n">create_document_request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CreateDocumentRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parent</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">corpus_resource_name</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">document</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">example_document</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">create_document_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">create_document</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">create_document_request</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Set the `document_resource_name` for subsequent sections.</span>
<span class="devsite-syntax-n">document_resource_name</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">create_document_response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">create_document_response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h3 data-text="Erstelltes Dokument abrufen" id="get_the_created_document" tabindex="-1">Erstelltes Dokument abrufen</h3>

<p>Verwenden Sie die Methode <code dir="ltr" translate="no">GetDocumentRequest</code>, um programmatisch auf das oben erstellte Dokument zuzugreifen. Der Wert des Parameters <code dir="ltr" translate="no">name</code> bezieht sich auf den vollständigen Ressourcennamen des Dokuments und ist in der Zelle oben als <code dir="ltr" translate="no">document_resource_name</code> festgelegt. Das erwartete Format ist <code dir="ltr" translate="no">corpora/corpus-123/documents/document-123</code>.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-n">get_document_request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GetDocumentRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">document_resource_name</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Make the request</span>
<span class="devsite-syntax-c1"># document_resource_name is a variable set in the "Create a document" section.</span>
<span class="devsite-syntax-n">get_document_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">get_document</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">get_document_request</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Print the response</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">get_document_response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h2 data-text="Dokumente aufnehmen und in Segmente unterteilen" id="ingest_chunk_a_document" tabindex="-1">Dokumente aufnehmen und in Segmente unterteilen</h2>

<p>Um die Relevanz der von der Vektordatenbank zurückgegebenen Inhalte beim semantischen Abruf zu verbessern, unterteilen Sie große Dokumente bei der Datenaufnahme in kleinere Teile oder <strong>Blöcke</strong>.</p>

<p>Ein <code dir="ltr" translate="no">Chunk</code> ist ein Teil einer <code dir="ltr" translate="no">Document</code>, der für die Vektordarstellung und ‑speicherung als unabhängige Einheit behandelt wird. Ein <code dir="ltr" translate="no">Chunk</code> kann maximal 2.043 Token haben. Ein <code dir="ltr" translate="no">Corpus</code> kann maximal 1 Million <code dir="ltr" translate="no">Chunk</code>s haben.</p>

<p>Ähnlich wie <code dir="ltr" translate="no">Document</code> unterstützen auch <code dir="ltr" translate="no">Chunks</code> bis zu 20 benutzerdefinierte <code dir="ltr" translate="no">custom_metadata</code>-Felder, die als Schlüssel/Wert-Paare angegeben werden. Benutzerdefinierte Metadaten können Strings, Listen von Strings oder Zahlen sein. Listen von Strings können maximal 10 Werte enthalten. Numerische Werte werden in der API als Gleitkommazahlen dargestellt.</p>

<p>In dieser Anleitung wird der <a class="external" href="https://github.com/google/labs-prototypes/tree/main/seeds/chunker-python" >Open-Source-HtmlChunker</a> von Google verwendet.</p>

<p>Weitere mögliche Chunker sind <a class="external" href="https://python.langchain.com/docs/get_started/introduction" >LangChain</a> oder <a class="external" href="https://www.llamaindex.ai/" >LlamaIndex</a>.</p>

<h3 data-text="HTML-Dateien über HtmlChunker aufnehmen und in kleinere Dateien aufteilen" id="ingest_html_and_chunk_via_htmlchunker" tabindex="-1">HTML-Dateien über HtmlChunker aufnehmen und in kleinere Dateien aufteilen</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-err">!</span><span class="devsite-syntax-n">pip</span> <span class="devsite-syntax-n">install</span> <span class="devsite-syntax-n">google</span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-n">labs</span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-n">html</span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-n">chunker</span>

<span class="devsite-syntax-kn">from</span> <span class="devsite-syntax-nn">google_labs_html_chunker.html_chunker</span> <span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">HtmlChunker</span>

<span class="devsite-syntax-kn">from</span> <span class="devsite-syntax-nn">urllib.request</span> <span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">urlopen</span>
</code></pre></devsite-code>
<p>HTML-DOM für eine Website abrufen Hier wird der HTML-Code direkt gelesen. Es wäre jedoch besser, wenn der HTML-Code nach dem Rendering JavaScript-injiziertes HTML wie <code dir="ltr" translate="no">document.documentElement.innerHTML</code> enthalten würde.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-k">with</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">urlopen</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"https://developers.googleblog.com/2023/08/introducing-project-idx-experiment-to-improve-full-stack-multiplatform-app-development.html"</span><span class="devsite-syntax-p">))</span> <span class="devsite-syntax-k">as</span> <span class="devsite-syntax-n">f</span><span class="devsite-syntax-p">:</span>
  <span class="devsite-syntax-n">html</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">f</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">read</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">decode</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"utf-8"</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<p>Teilen Sie das Textdokument in Absätze auf und erstellen Sie daraus <code dir="ltr" translate="no">Chunk</code>s. In diesem Schritt werden die <code dir="ltr" translate="no">Chunk</code>-Objekte selbst erstellt und im nächsten Abschnitt in die Semantic Retriever API hochgeladen.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Chunk the file using HtmlChunker</span>
<span class="devsite-syntax-n">chunker</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">HtmlChunker</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">max_words_per_aggregate_passage</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-mi">200</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">greedily_aggregate_sibling_nodes</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">html_tags_to_exclude</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-s2">"noscript"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s2">"script"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s2">"style"</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">passages</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">chunker</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">html</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">passages</span><span class="devsite-syntax-p">)</span>


<span class="devsite-syntax-c1"># Create `Chunk` entities.</span>
<span class="devsite-syntax-n">chunks</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[]</span>
<span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">passage</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">passages</span><span class="devsite-syntax-p">:</span>
    <span class="devsite-syntax-n">chunk</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Chunk</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">data</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-s1">'string_value'</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-n">passage</span><span class="devsite-syntax-p">})</span>
    <span class="devsite-syntax-c1"># Optionally, you can add metadata to a chunk</span>
    <span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">custom_metadata</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CustomMetadata</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">key</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"tags"</span><span class="devsite-syntax-p">,</span>
                                                    <span class="devsite-syntax-n">string_list_value</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">StringList</span><span class="devsite-syntax-p">(</span>
                                                        <span class="devsite-syntax-n">values</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-s2">"Google For Developers"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s2">"Project IDX"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s2">"Blog"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s2">"Announcement"</span><span class="devsite-syntax-p">])))</span>
    <span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">custom_metadata</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CustomMetadata</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">key</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"chunking_strategy"</span><span class="devsite-syntax-p">,</span>
                                                    <span class="devsite-syntax-n">string_value</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"greedily_aggregate_sibling_nodes"</span><span class="devsite-syntax-p">))</span>
    <span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">custom_metadata</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CustomMetadata</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">key</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"publish_date"</span><span class="devsite-syntax-p">,</span>
                                                    <span class="devsite-syntax-n">numeric_value</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-mi">20230808</span><span class="devsite-syntax-p">))</span>
    <span class="devsite-syntax-n">chunks</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">chunks</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h2 data-text="Blöcke im Batch erstellen" id="batch_create_chunks" tabindex="-1">Blöcke im Batch erstellen</h2>

<p>Erstellen Sie Blöcke in Batches. Sie können maximal 100 Chunks pro Batchanfrage angeben.</p>

<p>Verwenden Sie <code dir="ltr" translate="no">CreateChunk()</code>, um einen einzelnen Chunk zu erstellen.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Option 1: Use HtmlChunker in the section above.</span>
<span class="devsite-syntax-c1"># `chunks` is the variable set from the section above.</span>
<span class="devsite-syntax-n">create_chunk_requests</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[]</span>
<span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">chunk</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">chunks</span><span class="devsite-syntax-p">:</span>
  <span class="devsite-syntax-n">create_chunk_requests</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CreateChunkRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parent</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">document_resource_name</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-p">))</span>

<span class="devsite-syntax-c1"># Make the request</span>
<span class="devsite-syntax-n">request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">BatchCreateChunksRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parent</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">document_resource_name</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">requests</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">create_chunk_requests</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">batch_create_chunks</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<p>Alternativ können Sie auch ohne den HtmlChunker Chunks erstellen.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Add up to 100 CreateChunk requests per batch request.</span>
<span class="devsite-syntax-c1"># document_resource_name is a variable set in the "Create a document" section.</span>
<span class="devsite-syntax-n">chunks</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[]</span>
<span class="devsite-syntax-n">chunk_1</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Chunk</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">data</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-s1">'string_value'</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-s2">"Chunks support user specified metadata."</span><span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-n">chunk_1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">custom_metadata</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CustomMetadata</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">key</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"section"</span><span class="devsite-syntax-p">,</span>
                                                  <span class="devsite-syntax-n">string_value</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"Custom metadata filters"</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-n">chunk_2</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Chunk</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">data</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-s1">'string_value'</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-s2">"The maximum number of metadata supported is 20"</span><span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-n">chunk_2</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">custom_metadata</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CustomMetadata</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">key</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"num_keys"</span><span class="devsite-syntax-p">,</span>
                                                  <span class="devsite-syntax-n">numeric_value</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-mi">20</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-n">chunks</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">chunk_1</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">chunk_2</span><span class="devsite-syntax-p">]</span>
<span class="devsite-syntax-n">create_chunk_requests</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[]</span>
<span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">chunk</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">chunks</span><span class="devsite-syntax-p">:</span>
  <span class="devsite-syntax-n">create_chunk_requests</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CreateChunkRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parent</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">document_resource_name</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-p">))</span>

<span class="devsite-syntax-c1"># Make the request</span>
<span class="devsite-syntax-n">request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">BatchCreateChunksRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parent</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">document_resource_name</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">requests</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">create_chunk_requests</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">batch_create_chunks</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h3 data-text="Chunks auflisten und Status abrufen" id="list_chunks_and_get_state" tabindex="-1"><code dir="ltr" translate="no">Chunk</code>s auflisten und Status abrufen</h3>

<p>Mit der <code dir="ltr" translate="no">ListChunksRequest</code>-Methode können Sie alle verfügbaren <code dir="ltr" translate="no">Chunk</code>s als paginaierte Liste mit einer maximalen Größe von 100 <code dir="ltr" translate="no">Chunk</code>s pro Seite abrufen, sortiert in aufsteigender Reihenfolge nach <a href="https://ai.google.dev/api/python/google/generativeai/protos/Chunk?hl=de#create_time%22"><code dir="ltr" translate="no">Chunk.create_time</code></a>. Wenn Sie kein Limit angeben, werden maximal 10 <code dir="ltr" translate="no">Chunk</code>s zurückgegeben.</p>

<p>Gib den in der <code dir="ltr" translate="no">ListChunksRequest</code>-Antwort zurückgegebenen Wert <code dir="ltr" translate="no">next_page_token</code> als Argument für die nächste Anfrage an, um die nächste Seite abzurufen. Beim Paginieren müssen alle anderen für <code dir="ltr" translate="no">ListChunks</code> bereitgestellten Parameter mit dem Aufruf übereinstimmen, der das Seitentoken bereitgestellt hat.</p>

<p>Alle <code dir="ltr" translate="no">Chunk</code>s geben eine <code dir="ltr" translate="no">state</code> zurück. So kannst du den Status der <code dir="ltr" translate="no">Chunks</code> prüfen, bevor du eine <code dir="ltr" translate="no">Corpus</code> abfragst. Zu den <code dir="ltr" translate="no">Chunk</code>-Status gehören <code dir="ltr" translate="no">UNSPECIFIED</code>, <code dir="ltr" translate="no">PENDING_PROCESSING</code>, <code dir="ltr" translate="no">ACTIVE</code> und <code dir="ltr" translate="no">FAILED</code>. Du kannst nur <code dir="ltr" translate="no">ACTIVE</code> <code dir="ltr" translate="no">Chunk</code>s abfragen.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Make the request</span>
<span class="devsite-syntax-n">request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">ListChunksRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parent</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">document_resource_name</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">list_chunks_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">list_chunks</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">index</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">chunks</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-nb">enumerate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">list_chunks_response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">chunks</span><span class="devsite-syntax-p">):</span>
  <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s1">'</span><span class="devsite-syntax-se">\n</span><span class="devsite-syntax-s1">Chunk # </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">index</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">+</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mi">1</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s1">'</span><span class="devsite-syntax-p">)</span>
  <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s1">'Resource Name: </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">chunks</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s1">'</span><span class="devsite-syntax-p">)</span>
  <span class="devsite-syntax-c1"># Only ACTIVE chunks can be queried.</span>
  <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s1">'State: </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Chunk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">State</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">chunks</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s1">'</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h2 data-text="Weiteres Dokument aufnehmen" id="ingest_another_document" tabindex="-1">Weiteres Dokument aufnehmen</h2>

<p>Füge über HtmlChunker eine weitere <code dir="ltr" translate="no">Document</code> hinzu und füge Filter hinzu.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Create a document with a custom display name.</span>
<span class="devsite-syntax-n">example_document</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Document</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">display_name</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"How it’s Made: Interacting with Gemini through multimodal prompting"</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Add document metadata.</span>
<span class="devsite-syntax-c1"># Metadata also supports numeric values not specified here</span>
<span class="devsite-syntax-n">document_metadata</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span>
    <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CustomMetadata</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">key</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"url"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">string_value</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"https://developers.googleblog.com/2023/12/how-its-made-gemini-multimodal-prompting.html"</span><span class="devsite-syntax-p">)]</span>
<span class="devsite-syntax-n">example_document</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">custom_metadata</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">extend</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">document_metadata</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Make the CreateDocument request</span>
<span class="devsite-syntax-c1"># corpus_resource_name is a variable set in the "Create a corpus" section.</span>
<span class="devsite-syntax-n">create_document_request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CreateDocumentRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parent</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">corpus_resource_name</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">document</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">example_document</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">create_document_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">create_document</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">create_document_request</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Set the `document_resource_name` for subsequent sections.</span>
<span class="devsite-syntax-n">document_resource_name</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">create_document_response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">create_document_response</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Chunks - add another webpage from Google for Developers</span>
<span class="devsite-syntax-k">with</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">urlopen</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"https://developers.googleblog.com/2023/12/how-its-made-gemini-multimodal-prompting.html"</span><span class="devsite-syntax-p">))</span> <span class="devsite-syntax-k">as</span> <span class="devsite-syntax-n">f</span><span class="devsite-syntax-p">:</span>
  <span class="devsite-syntax-n">html</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">f</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">read</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">decode</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"utf-8"</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Chunk the file using HtmlChunker</span>
<span class="devsite-syntax-n">chunker</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">HtmlChunker</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">max_words_per_aggregate_passage</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-mi">100</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">greedily_aggregate_sibling_nodes</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-kc">False</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">passages</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">chunker</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">html</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Create `Chunk` entities.</span>
<span class="devsite-syntax-n">chunks</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[]</span>
<span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">passage</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">passages</span><span class="devsite-syntax-p">:</span>
    <span class="devsite-syntax-n">chunk</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Chunk</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">data</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-s1">'string_value'</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-n">passage</span><span class="devsite-syntax-p">})</span>
    <span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">custom_metadata</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CustomMetadata</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">key</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"tags"</span><span class="devsite-syntax-p">,</span>
                                                    <span class="devsite-syntax-n">string_list_value</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">StringList</span><span class="devsite-syntax-p">(</span>
                                                        <span class="devsite-syntax-n">values</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-s2">"Google For Developers"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s2">"Gemini API"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s2">"Blog"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s2">"Announcement"</span><span class="devsite-syntax-p">])))</span>
    <span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">custom_metadata</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CustomMetadata</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">key</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"chunking_strategy"</span><span class="devsite-syntax-p">,</span>
                                                    <span class="devsite-syntax-n">string_value</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"no_aggregate_sibling_nodes"</span><span class="devsite-syntax-p">))</span>
    <span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">custom_metadata</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CustomMetadata</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">key</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"publish_date"</span><span class="devsite-syntax-p">,</span>
                                                    <span class="devsite-syntax-n">numeric_value</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-mi">20231206</span><span class="devsite-syntax-p">))</span>
    <span class="devsite-syntax-n">chunks</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Make the request</span>
<span class="devsite-syntax-n">create_chunk_requests</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[]</span>
<span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">chunk</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">chunks</span><span class="devsite-syntax-p">:</span>
  <span class="devsite-syntax-n">create_chunk_requests</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CreateChunkRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parent</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">document_resource_name</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-n">request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">BatchCreateChunksRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parent</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">document_resource_name</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">requests</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">create_chunk_requests</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">batch_create_chunks</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h2 data-text="Korpus abfragen" id="query_the_corpus" tabindex="-1">Korpus abfragen</h2>

<p>Mit der Methode <code dir="ltr" translate="no">QueryCorpusRequest</code> können Sie eine semantische Suche ausführen, um relevante Abschnitte zu erhalten.</p>

<ul>
<li><code dir="ltr" translate="no">results_count</code>: Geben Sie die Anzahl der zu retournierenden Passagen an. Der Maximalwert ist 100. Wenn nicht angegeben, gibt die API maximal 10 <code dir="ltr" translate="no">Chunk</code> zurück.</li>
<li><code dir="ltr" translate="no">metadata_filters</code>: Nach <code dir="ltr" translate="no">chunk_metadata</code> oder <code dir="ltr" translate="no">document_metadata</code> filtern. Jeder <code dir="ltr" translate="no">MetadataFilter</code> muss einem eindeutigen Schlüssel entsprechen. Mehrere <code dir="ltr" translate="no">MetadataFilter</code>-Objekte sind durch logische <code dir="ltr" translate="no">AND</code>s verbunden. Ähnliche Metadatenfilterbedingungen werden durch logische <code dir="ltr" translate="no">OR</code>s verknüpft. Beispiele:</li>
</ul>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">year</span> &gt;<span class="devsite-syntax-o">=</span> <span class="devsite-syntax-mi">2020</span> <span class="devsite-syntax-n">OR</span> <span class="devsite-syntax-n">year</span> &lt; <span class="devsite-syntax-mi">2010</span><span class="devsite-syntax-p">)</span> <span class="devsite-syntax-n">AND</span> <span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">genre</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">drama</span> <span class="devsite-syntax-n">OR</span> <span class="devsite-syntax-n">genre</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">action</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-n">metadata_filter</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span>
  <span class="devsite-syntax-p">{</span>
    <span class="devsite-syntax-n">key</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"document.custom_metadata.year"</span>
    <span class="devsite-syntax-n">conditions</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span>
      <span class="devsite-syntax-p">{</span><span class="devsite-syntax-n">int_value</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-mi">2020</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">operation</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">GREATER_EQUAL</span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-p">{</span><span class="devsite-syntax-n">int_value</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-mi">2010</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">operation</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">LESS</span><span class="devsite-syntax-p">}]</span>
  <span class="devsite-syntax-p">},</span>
  <span class="devsite-syntax-p">{</span>
    <span class="devsite-syntax-n">key</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"document.custom_metadata.genre"</span>
    <span class="devsite-syntax-n">conditions</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span>
      <span class="devsite-syntax-p">{</span><span class="devsite-syntax-n">string_value</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"drama"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">operation</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">EQUAL</span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-p">{</span><span class="devsite-syntax-n">string_value</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"action"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">operation</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">EQUAL</span><span class="devsite-syntax-p">}</span> <span class="devsite-syntax-p">}]</span>
  <span class="devsite-syntax-p">}]</span>
</code></pre></devsite-code>
<p>Beachten Sie, dass nur für numerische Werte „AND“ für denselben Schlüssel unterstützt wird. Bei Stringwerten wird für denselben Schlüssel nur „OR“ unterstützt.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"Google for Developers"</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">tags</span><span class="devsite-syntax-p">)</span> <span class="devsite-syntax-ow">and</span> <span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">20230314</span> &gt; <span class="devsite-syntax-n">publish_date</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-n">metadata_filter</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span>
 <span class="devsite-syntax-p">{</span>
    <span class="devsite-syntax-n">key</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"chunk.custom_metadata.tags"</span>
    <span class="devsite-syntax-n">conditions</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span>
    <span class="devsite-syntax-p">{</span><span class="devsite-syntax-n">string_value</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s1">'Google for Developers'</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">operation</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">INCLUDES</span><span class="devsite-syntax-p">},</span>
  <span class="devsite-syntax-p">},</span>
  <span class="devsite-syntax-p">{</span>
    <span class="devsite-syntax-n">key</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"chunk.custom_metadata.publish_date"</span>
    <span class="devsite-syntax-n">conditions</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span>
    <span class="devsite-syntax-p">{</span><span class="devsite-syntax-n">numeric_value</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-mi">20230314</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">operation</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">GREATER_EQUAL</span><span class="devsite-syntax-p">}]</span>
  <span class="devsite-syntax-p">}]</span>
</code></pre></devsite-code><div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-n">user_query</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"What is the purpose of Project IDX?"</span>
<span class="devsite-syntax-n">results_count</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-mi">5</span>

<span class="devsite-syntax-c1"># Add metadata filters for both chunk and document.</span>
<span class="devsite-syntax-n">chunk_metadata_filter</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">MetadataFilter</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">key</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s1">'chunk.custom_metadata.tags'</span><span class="devsite-syntax-p">,</span>
                                           <span class="devsite-syntax-n">conditions</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Condition</span><span class="devsite-syntax-p">(</span>
                                              <span class="devsite-syntax-n">string_value</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s1">'Google For Developers'</span><span class="devsite-syntax-p">,</span>
                                              <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Condition</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Operator</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">INCLUDES</span><span class="devsite-syntax-p">)])</span>

<span class="devsite-syntax-c1"># Make the request</span>
<span class="devsite-syntax-c1"># corpus_resource_name is a variable set in the "Create a corpus" section.</span>
<span class="devsite-syntax-n">request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">QueryCorpusRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">corpus_resource_name</span><span class="devsite-syntax-p">,</span>
                                 <span class="devsite-syntax-n">query</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">user_query</span><span class="devsite-syntax-p">,</span>
                                 <span class="devsite-syntax-n">results_count</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">results_count</span><span class="devsite-syntax-p">,</span>
                                 <span class="devsite-syntax-n">metadata_filters</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">chunk_metadata_filter</span><span class="devsite-syntax-p">])</span>
<span class="devsite-syntax-n">query_corpus_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">query_corpus</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">query_corpus_response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h2 data-text="Question Answering mit Quellenangabe" id="attributed_question-answering" tabindex="-1">Question Answering mit Quellenangabe</h2>

<p>Verwenden Sie die Methode <a href="https://ai.google.dev/api/python/google/ai/generativelanguage/GenerateAnswerRequest?hl=de"><code dir="ltr" translate="no">GenerateAnswer</code></a>, um die Beantwortung von Fragen mit Quellenangaben für Ihr Dokument, Ihren Korpus oder eine Reihe von Textpassagen auszuführen.</p>

<p>Die Beantwortung von Fragen mit Quellenangaben (Attributed Question-Answering, AQA) bezieht sich auf das Beantworten von Fragen, die auf einem bestimmten Kontext basieren, und das Angeben von Quellenangaben, wobei die Halluzination minimiert wird.</p>

<p><code dir="ltr" translate="no">GenerateAnswer</code> bietet mehrere Vorteile gegenüber der Verwendung eines nicht abgestimmten LLM, wenn AQA gewünscht ist:</p>

<ul>
<li>Das zugrunde liegende Modell wurde darauf trainiert, nur Antworten zurückzugeben, die auf dem angegebenen Kontext basieren.</li>
<li>Es werden Attributionen (Segmente des bereitgestellten Kontexts, die zur Antwort beigetragen haben) identifiziert. Mithilfe von Attributionen kann der Nutzer die Antwort überprüfen.</li>
<li>Er schätzt den <code dir="ltr" translate="no">answerable_probability</code> für ein bestimmtes Paar (Frage, Kontext) und ermöglicht es Ihnen so, das Produktverhalten je nach Wahrscheinlichkeit zu ändern, dass die zurückgegebene Antwort fundiert und korrekt ist.</li>
</ul>
<aside class="note"><strong>Hinweis:</strong><span> AQA unterstützt derzeit nur Abfragen auf Englisch.</span></aside>
<h3 data-text="answerable_probability und das Problem „Ich weiß nicht“" id="answerable_probability_and_the_“i_don’t_know”_problem" tabindex="-1"><code dir="ltr" translate="no">answerable_probability</code> und das Problem „Ich weiß nicht“</h3>

<p>In einigen Fällen ist die beste Antwort auf die Frage tatsächlich „Ich weiß nicht“. Wenn der bereitgestellte Kontext beispielsweise nicht die Antwort auf die Frage enthält, wird die Frage als „nicht beantwortbar“ eingestuft.</p>

<p>Das AQA-Modell ist sehr gut darin, solche Fälle zu erkennen. Es kann sogar zwischen verschiedenen Graden der Beantwortbarkeit und Nichtbeantwortbarkeit unterscheiden.</p>

<p>Mit der <code dir="ltr" translate="no">GenerateAnswer</code> API haben Sie jedoch die endgültige Entscheidungsgewalt:</p>

<ul>
<li><em>Immer</em> versuchen, eine fundierte Antwort zurückzugeben, auch wenn diese Antwort relativ unwahrscheinlich fundiert und richtig ist.</li>
<li>Wert <code dir="ltr" translate="no">answerable_probability</code> zurückgeben: Die Schätzung des Modells für die Wahrscheinlichkeit, dass die Antwort fundiert und richtig ist.</li>
</ul>

<p>Ein niedriger <code dir="ltr" translate="no">answerable_probability</code> kann durch einen oder mehrere der folgenden Faktoren erklärt werden:</p>

<ul>
<li>Das Modell ist sich nicht sicher, ob seine Antwort richtig ist.</li>
<li>Das Modell ist sich nicht sicher, ob seine Antwort auf den zitierten Passagen basiert. Die Antwort kann stattdessen aus Weltwissen abgeleitet werden. Beispiel: <code dir="ltr" translate="no">question=&quot;1+1=?&quot;, passages=[&quot;2+2=4”]</code> → <code dir="ltr" translate="no">answer=2, answerable_probability=0.02</code></li>
<li>Das Modell hat relevante Informationen geliefert, die die Frage nicht vollständig beantworten. Beispiel: <code dir="ltr" translate="no">question=&quot;Is it available in my size?, passages=[&quot;Available in sizes 5-11&quot;]</code> → <code dir="ltr" translate="no">answer=&quot;Yes it is available in sizes 5-11&quot;, answerable_probability=0.03&quot;</code></li>
<li>In GenerateAnswerRequest wurde keine korrekt formulierte Frage gestellt.</li>
</ul>

<p>Da ein niedriger Wert für <code dir="ltr" translate="no">answerable_probability</code> darauf hinweist, dass die Antwort von GenerateAnswerResponse.answer wahrscheinlich falsch oder nicht begründet ist, <strong>wird dringend empfohlen, die Antwort durch Prüfung von <code dir="ltr" translate="no">answerable_probability</code></strong> weiterzuverarbeiten.</p>

<p>Wenn <code dir="ltr" translate="no">answerable_probability</code> niedrig ist, können einige Kunden Folgendes tun:</p>

<ul>
<li>Dem Endnutzer wird eine Nachricht mit dem Hinweis angezeigt, dass diese Frage nicht beantwortet werden konnte.</li>
<li>Nutzen Sie ein allgemeines LLM, das die Frage nach dem Weltwissen beantwortet. Der Schwellenwert und die Art solcher Fallbacks hängen von den einzelnen Anwendungsfällen ab. Ein Wert von <code dir="ltr" translate="no">answerable_probability</code> &lt;= 0,5 ist ein guter Ausgangspunkt.</li>
</ul>

<h3 data-text="Hilfreiche Tipps für die AQA" id="aqa_helpful_tips" tabindex="-1">Hilfreiche Tipps für die AQA</h3>

<p>Die vollständigen API-Spezifikationen finden Sie in der <a href="https://ai.google.dev/api/python/google/ai/generativelanguage/GenerateAnswerRequest?hl=de"><code dir="ltr" translate="no">GenerateAnswerRequest</code> API-Referenz</a>.</p>

<ul>
<li><em>Abschnittslänge</em>: Wir empfehlen bis zu 300 Token pro Abschnitt.</li>
<li><em>Durchgangssortierung</em>:
<ul>
<li>Wenn Sie <a href="https://ai.google.dev/api/python/google/generativeai/protos/GenerateAnswerRequest?hl=de#inline_passages%22"><code dir="ltr" translate="no">GenerateAnswerRequest.inline_passages</code></a> angeben, sollten die Passagen in absteigender Relevanz für die Suchanfrage sortiert werden. Wenn das Limit für die Kontextlänge des Modells überschritten wird, werden die letzten (am wenigsten relevanten) Passagen weggelassen.</li>
<li>Wenn Sie <a href="https://ai.google.dev/api/python/google/generativeai/protos/GenerateAnswerRequest?hl=de#semantic_retriever%22"><code dir="ltr" translate="no">GenerateAnswerRequest.semantic_retriever</code></a> angeben, erfolgt die Relevanzsortierung automatisch.</li>
</ul></li>
<li><em>Einschränkungen</em>: Das AQA-Modell ist auf die Beantwortung von Fragen spezialisiert. Für andere Anwendungsfälle wie kreatives Schreiben oder Zusammenfassungen rufen Sie bitte über „GenerateContent“ ein allgemeines Modell auf.
<ul>
<li><em>Chat</em>: Wenn bekannt ist, dass es sich bei der Nutzereingabe um eine Frage handelt, die in einem bestimmten Kontext beantwortet werden kann, kann AQA Chatanfragen beantworten. Wenn die Nutzereingabe jedoch beliebiger Art sein kann, ist ein allgemeines Modell möglicherweise die bessere Wahl.</li>
</ul></li>
<li><em>Temperatur</em>:
<ul>
<li>Für eine genaue AQA wird im Allgemeinen eine relativ niedrige Temperatur (etwa 0, 2) empfohlen.</li>
<li>Wenn Ihr Anwendungsfall auf deterministische Ausgaben beruht, legen Sie Temperatur=0 fest.</li>
</ul></li>
</ul>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-n">user_query</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"What is the purpose of Project IDX?"</span>
<span class="devsite-syntax-n">answer_style</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"ABSTRACTIVE"</span> <span class="devsite-syntax-c1"># Or VERBOSE, EXTRACTIVE</span>
<span class="devsite-syntax-n">MODEL_NAME</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"models/aqa"</span>

<span class="devsite-syntax-c1"># Make the request</span>
<span class="devsite-syntax-c1"># corpus_resource_name is a variable set in the "Create a corpus" section.</span>
<span class="devsite-syntax-n">content</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Content</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parts</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Part</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">user_query</span><span class="devsite-syntax-p">)])</span>
<span class="devsite-syntax-n">retriever_config</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">SemanticRetrieverConfig</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">source</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">corpus_resource_name</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">query</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">content</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">req</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GenerateAnswerRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">MODEL_NAME</span><span class="devsite-syntax-p">,</span>
                                <span class="devsite-syntax-n">contents</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">content</span><span class="devsite-syntax-p">],</span>
                                <span class="devsite-syntax-n">semantic_retriever</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">retriever_config</span><span class="devsite-syntax-p">,</span>
                                <span class="devsite-syntax-n">answer_style</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">answer_style</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">aqa_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">generative_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">generate_answer</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">req</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">aqa_response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code><div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Get the metadata from the first attributed passages for the source</span>
<span class="devsite-syntax-n">chunk_resource_name</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">aqa_response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">answer</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">grounding_attributions</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">]</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">source_id</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">semantic_retriever_chunk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">chunk</span>
<span class="devsite-syntax-n">get_chunk_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">get_chunk</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">chunk_resource_name</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">get_chunk_response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h3 data-text="Weitere Optionen: AQA mit Inline-Passagen" id="more_options_aqa_using_inline_passages" tabindex="-1">Weitere Optionen: AQA mit Inline-Passagen</h3>

<p>Alternativ können Sie den AQA-Endpunkt direkt verwenden, ohne die Semantic Retriever API zu verwenden. Geben Sie dazu <code dir="ltr" translate="no">inline_passages</code> ein.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-n">user_query</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"What is AQA from Google?"</span>
<span class="devsite-syntax-n">user_query_content</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Content</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parts</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Part</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">user_query</span><span class="devsite-syntax-p">)])</span>
<span class="devsite-syntax-n">answer_style</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"VERBOSE"</span> <span class="devsite-syntax-c1"># or ABSTRACTIVE, EXTRACTIVE</span>
<span class="devsite-syntax-n">MODEL_NAME</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"models/aqa"</span>

<span class="devsite-syntax-c1"># Create the grounding inline passages</span>
<span class="devsite-syntax-n">grounding_passages</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GroundingPassages</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-n">passage_a</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Content</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parts</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Part</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"Attributed Question and Answering (AQA) refers to answering questions grounded to a given corpus and providing citation"</span><span class="devsite-syntax-p">)])</span>
<span class="devsite-syntax-n">grounding_passages</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">passages</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GroundingPassage</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">content</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">passage_a</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-nb">id</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"001"</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-n">passage_b</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Content</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parts</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Part</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"An LLM is not designed to generate content grounded in a set of passages. Although instructing an LLM to answer questions only based on a set of passages reduces hallucination, hallucination still often occurs when LLMs generate responses unsupported by facts provided by passages"</span><span class="devsite-syntax-p">)])</span>
<span class="devsite-syntax-n">grounding_passages</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">passages</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GroundingPassage</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">content</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">passage_b</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-nb">id</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"002"</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-n">passage_c</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Content</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">parts</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Part</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"Hallucination is one of the biggest problems in Large Language Models (LLM) development. Large Language Models (LLMs) could produce responses that are fictitious and incorrect, which significantly impacts the usefulness and trustworthiness of applications built with language models."</span><span class="devsite-syntax-p">)])</span>
<span class="devsite-syntax-n">grounding_passages</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">passages</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GroundingPassage</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">content</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">passage_c</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-nb">id</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"003"</span><span class="devsite-syntax-p">))</span>

<span class="devsite-syntax-c1"># Create the request</span>
<span class="devsite-syntax-n">req</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GenerateAnswerRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">MODEL_NAME</span><span class="devsite-syntax-p">,</span>
                                <span class="devsite-syntax-n">contents</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">user_query_content</span><span class="devsite-syntax-p">],</span>
                                <span class="devsite-syntax-n">inline_passages</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">grounding_passages</span><span class="devsite-syntax-p">,</span>
                                <span class="devsite-syntax-n">answer_style</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">answer_style</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">aqa_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">generative_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">generate_answer</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">req</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">aqa_response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h2 data-text="Korpus freigeben" id="share_the_corpus" tabindex="-1">Korpus freigeben</h2>

<p>Sie können den Korpus mit anderen teilen, indem Sie die <a href="https://ai.google.dev/api/python/google/ai/generativelanguage/CreatePermissionRequest?hl=de"><code dir="ltr" translate="no">CreatePermissionRequest</code></a> API verwenden.</p>

<p>Einschränkungen:</p>

<ul>
<li>Es gibt zwei Rollen für die Freigabe: <code dir="ltr" translate="no">READER</code> und <code dir="ltr" translate="no">EDITOR</code>.
<ul>
<li>Ein <code dir="ltr" translate="no">READER</code> kann den Korpus abfragen.</li>
<li>Ein <code dir="ltr" translate="no">WRITER</code> hat Leseberechtigungen und kann den Korpus zusätzlich bearbeiten und freigeben.</li>
</ul></li>
<li>Ein Corpus kann öffentlich sein, wenn Sie <code dir="ltr" translate="no">EVERYONE</code> Lesezugriff als <code dir="ltr" translate="no">user_type</code> gewähren.</li>
</ul>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Replace your-email@gmail.com with the email added as a test user in the OAuth Quickstart</span>
<span class="devsite-syntax-n">shared_user_email</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"TODO-your-email@gmail.com"</span> <span class="devsite-syntax-c1">#  @param {type:"string"}</span>
<span class="devsite-syntax-n">user_type</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"USER"</span>
<span class="devsite-syntax-n">role</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"READER"</span>

<span class="devsite-syntax-c1"># Make the request</span>
<span class="devsite-syntax-c1"># corpus_resource_name is a variable set in the "Create a corpus" section.</span>
<span class="devsite-syntax-n">request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CreatePermissionRequest</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">parent</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">corpus_resource_name</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">permission</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Permission</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">grantee_type</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">user_type</span><span class="devsite-syntax-p">,</span>
                              <span class="devsite-syntax-n">email_address</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">shared_user_email</span><span class="devsite-syntax-p">,</span>
                              <span class="devsite-syntax-n">role</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">role</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-n">create_permission_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">permission_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">create_permission</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">create_permission_response</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h2 data-text="Korpus löschen" id="delete_the_corpus" tabindex="-1">Korpus löschen</h2>

<p>Verwenden Sie <a href="https://ai.google.dev/api/python/google/ai/generativelanguage/DeleteCorpusRequest?hl=de"><code dir="ltr" translate="no">DeleteCorpusRequest</code></a>, um einen Nutzerkorpus und alle zugehörigen <code dir="ltr" translate="no">Document</code>s und <code dir="ltr" translate="no">Chunk</code>s zu löschen.</p>

<p>Bei nicht leeren Corpora wird ohne Angabe des <code dir="ltr" translate="no">force=True</code>-Flags ein Fehler ausgegeben. Wenn Sie <code dir="ltr" translate="no">force=True</code> festlegen, werden alle <code dir="ltr" translate="no">Chunk</code>s und Objekte im Zusammenhang mit dieser <code dir="ltr" translate="no">Document</code> ebenfalls gelöscht.</p>

<p>Wenn <code dir="ltr" translate="no">force=False</code> (Standardeinstellung) und <code dir="ltr" translate="no">Document</code> <code dir="ltr" translate="no">Chunk</code> enthalten, wird ein <code dir="ltr" translate="no">FAILED_PRECONDITION</code>-Fehler zurückgegeben.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Set force to False if you don't want to delete non-empty corpora.</span>
<span class="devsite-syntax-n">req</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">DeleteCorpusRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">corpus_resource_name</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">force</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">delete_corpus_response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">retriever_service_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">delete_corpus</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">req</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"Successfully deleted corpus: "</span> <span class="devsite-syntax-o">+</span> <span class="devsite-syntax-n">corpus_resource_name</span><span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<h2 data-text="Zusammenfassung und weiterführende Literatur" id="summary_and_further_reading" tabindex="-1">Zusammenfassung und weiterführende Literatur</h2>

<p>In diesem Leitfaden wurden die APIs „Semantic Retriever“ und „Attributed Question &amp; Answering“ (AQA) der Generative Language API vorgestellt. Außerdem wurde gezeigt, wie Sie damit semantische Informationen aus Ihren benutzerdefinierten Textdaten abrufen können. Diese API funktioniert auch mit dem <a class="external" href="https://www.llamaindex.ai/" >LlamaIndex</a>-Datenframework. Weitere Informationen finden Sie <a class="external" href="https://github.com/run-llama/llama_index/blob/main/docs/docs/examples/managed/GoogleDemo.ipynb" >in der Anleitung</a>.</p>

<p>Weitere Informationen zu den anderen verfügbaren Funktionen findest du in der <a href="https://ai.google.dev/api?hl=de">API-Dokumentation</a>.</p>

<h2 data-text="Anhang: OAuth mit Nutzeranmeldedaten einrichten" id="user-oauth" tabindex="-1">Anhang: OAuth mit Nutzeranmeldedaten einrichten</h2>

<p>Folgen Sie der <a href="https://ai.google.dev/docs/oauth_quickstart?hl=de">OAuth-Kurzanleitung</a>, um die OAuth-Authentifizierung einzurichten.</p>

<ol>
<li><p><a href="https://ai.google.dev/docs/oauth_quickstart?hl=de#configure-oauth">Konfigurieren Sie den OAuth-Zustimmungsbildschirm.</a></p></li>
<li><p><a href="https://ai.google.dev/docs/oauth_quickstart?hl=de#authorize-credentials">Anmeldedaten für eine Desktopanwendung autorisieren</a> Wenn Sie dieses Notebook in Colab ausführen möchten, müssen Sie zuerst Ihre Anmeldedatendatei (normalerweise <code dir="ltr" translate="no">client_secret_*.json</code>) in <code dir="ltr" translate="no">client_secret.json</code> umbenennen. Laden Sie die Datei dann über das Dateisymbol in der linken Seitenleiste und dann über das Uploadsymbol hoch (siehe Screenshot unten).</p></li>
</ol>

<p><img src="https://ai.google.dev/tutorials/images/colab_upload.png?hl=de" width="400" /></p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Replace TODO-your-project-name with the project used in the OAuth Quickstart</span>
<span class="devsite-syntax-n">project_name</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"TODO-your-project-name"</span> <span class="devsite-syntax-c1">#  @param {type:"string"}</span>
<span class="devsite-syntax-c1"># Replace TODO-your-email@gmail.com with the email added as a test user in the OAuth Quickstart</span>
<span class="devsite-syntax-n">email</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"TODO-your-email@gmail.com"</span> <span class="devsite-syntax-c1">#  @param {type:"string"}</span>
<span class="devsite-syntax-c1"># Rename the uploaded file to `client_secret.json` OR</span>
<span class="devsite-syntax-c1"># Change the variable `client_file_name` in the code below.</span>
<span class="devsite-syntax-n">client_file_name</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"client_secret.json"</span>

<span class="devsite-syntax-c1"># IMPORTANT: Follow the instructions from the output - you must copy the command</span>
<span class="devsite-syntax-c1"># to your terminal and copy the output after authentication back here.</span>
<span class="devsite-syntax-err">!</span><span class="devsite-syntax-n">gcloud</span> <span class="devsite-syntax-n">config</span> <span class="devsite-syntax-nb">set</span> <span class="devsite-syntax-n">project</span> <span class="devsite-syntax-err">$</span><span class="devsite-syntax-n">project_name</span>
<span class="devsite-syntax-err">!</span><span class="devsite-syntax-n">gcloud</span> <span class="devsite-syntax-n">config</span> <span class="devsite-syntax-nb">set</span> <span class="devsite-syntax-n">account</span> <span class="devsite-syntax-err">$</span><span class="devsite-syntax-n">email</span>

<span class="devsite-syntax-c1"># NOTE: The simplified project setup in this tutorial triggers a "Google hasn't verified this app." dialog.</span>
<span class="devsite-syntax-c1"># This is normal, click "Advanced" -&gt; "Go to [app name] (unsafe)"</span>
<span class="devsite-syntax-err">!</span><span class="devsite-syntax-n">gcloud</span> <span class="devsite-syntax-n">auth</span> <span class="devsite-syntax-n">application</span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-n">default</span> <span class="devsite-syntax-n">login</span> <span class="devsite-syntax-o">--</span><span class="devsite-syntax-n">no</span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-n">browser</span> <span class="devsite-syntax-o">--</span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-nb">id</span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-err">$</span><span class="devsite-syntax-n">client_file_name</span> <span class="devsite-syntax-o">--</span><span class="devsite-syntax-n">scopes</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"https://www.googleapis.com/auth/generative-language.retriever,https://www.googleapis.com/auth/cloud-platform"</span>
</code></pre></devsite-code>
<p>Initialisieren Sie die Clientbibliothek und führen Sie das Notebook noch einmal aus, beginnend mit <a href="#create_corpus">Corpus erstellen</a>.</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-nn">google.ai.generativelanguage</span> <span class="devsite-syntax-k">as</span> <span class="devsite-syntax-nn">glm</span>

<span class="devsite-syntax-n">generative_service_client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GenerativeServiceClient</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-n">retriever_service_client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">RetrieverServiceClient</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-n">permission_service_client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">glm</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">PermissionServiceClient</span><span class="devsite-syntax-p">()</span>
</code></pre></devsite-code>
<link data-page-link="" href="https://ai.google.dev/site-assets/css/style.css?v=2&hl=de" rel="stylesheet" /><link data-page-link="" href="https://fonts.googleapis.com/css2?family=Google+Symbols:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet" />
  
  

  
</div>

  

  
    
    
      
    <devsite-thumb-rating position="footer">
    </devsite-thumb-rating>
  
       
         <devsite-feedback
  position="footer"
  project-name="Gemini API"
  product-id="5292923"
  bucket="documentation"
  context=""
  version="t-devsite-webserver-20241114-r00-rc02.464921008191574316"
  data-label="Send Feedback Button"
  track-type="feedback"
  track-name="sendFeedbackLink"
  track-metadata-position="footer"
  class="nocontent"
  
  
  
    project-icon="https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/googledevai/images/touchicon-180-new.png"
  
  
  
  >

  <button>
  
    
    Feedback geben
  
  </button>
</devsite-feedback>
       
    
    
  

  
  <div class="devsite-floating-action-buttons">
  
  
</div>
</article>


<devsite-content-footer class="nocontent">
  <p>Sofern nicht anders angegeben, sind die Inhalte dieser Seite unter der <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 License</a> und Codebeispiele unter der <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a> lizenziert. Weitere Informationen finden Sie in den <a href="https://developers.google.com/site-policies?hl=de">Websiterichtlinien von Google Developers</a>. Java ist eine eingetragene Marke von Oracle und/oder seinen Partnern.</p>
  <p>Zuletzt aktualisiert: 2024-11-07 (UTC).</p>
</devsite-content-footer>


<devsite-notification
>
</devsite-notification>


  
<div class="devsite-content-data">
  
    
    
    <template class="devsite-thumb-rating-feedback">
      <devsite-feedback
  position="thumb-rating"
  project-name="Gemini API"
  product-id="5292923"
  bucket="documentation"
  context=""
  version="t-devsite-webserver-20241114-r00-rc02.464921008191574316"
  data-label="Send Feedback Button"
  track-type="feedback"
  track-name="sendFeedbackLink"
  track-metadata-position="thumb-rating"
  class="nocontent"
  
  
  
    project-icon="https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/googledevai/images/touchicon-180-new.png"
  
  
  
  >

  <button>
  
    Haben Sie Feedback für uns?
  
  </button>
</devsite-feedback>
    </template>
  
  
    <template class="devsite-content-data-template">
      [[["Leicht verständlich","easyToUnderstand","thumb-up"],["Mein Problem wurde gelöst","solvedMyProblem","thumb-up"],["Sonstiges","otherUp","thumb-up"]],[["Benötigte Informationen nicht gefunden","missingTheInformationINeed","thumb-down"],["Zu umständlich/zu viele Schritte","tooComplicatedTooManySteps","thumb-down"],["Nicht mehr aktuell","outOfDate","thumb-down"],["Problem mit der Übersetzung","translationIssue","thumb-down"],["Problem mit Beispielen/Code","samplesCodeIssue","thumb-down"],["Sonstiges","otherDown","thumb-down"]],["Zuletzt aktualisiert: 2024-11-07 (UTC)."],[],[]]
    </template>
  
</div>
            
          </devsite-content>
        </main>
        <devsite-footer-promos class="devsite-footer">
          
            
          
        </devsite-footer-promos>
        <devsite-footer-linkboxes class="devsite-footer">
          
            
<nav class="devsite-footer-linkboxes nocontent" aria-label="Fußzeilenlinks">
  
</nav>
          
        </devsite-footer-linkboxes>
        <devsite-footer-utility class="devsite-footer">
          
            

<div class="devsite-footer-utility nocontent">
  

  
  <nav class="devsite-footer-utility-links" aria-label="Dienstprogrammlinks">
    
    <ul class="devsite-footer-utility-list">
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="//policies.google.com/terms?hl=de"
           data-category="Site-Wide Custom Events"
           data-label="Footer Terms link"
         >
          Nutzungsbedingungen
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="//policies.google.com/privacy?hl=de"
           data-category="Site-Wide Custom Events"
           data-label="Footer Privacy link"
         >
          Datenschutz
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 glue-cookie-notification-bar-control">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="#"
           data-category="Site-Wide Custom Events"
           data-label="Footer Manage cookies link"
         
           aria-hidden="true"
         >
          Manage cookies
        </a>
        
      </li>
      
    </ul>
    
    
<devsite-language-selector>
  <ul role="presentation">
    
    
    <li role="presentation">
      <a role="menuitem" lang="en"
        >English</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="de"
        >Deutsch</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="es_419"
        >Español – América Latina</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="fr"
        >Français</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="id"
        >Indonesia</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="it"
        >Italiano</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pl"
        >Polski</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pt_br"
        >Português – Brasil</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="vi"
        >Tiếng Việt</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="tr"
        >Türkçe</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ru"
        >Русский</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="he"
        >עברית</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ar"
        >العربيّة</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="fa"
        >فارسی</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="hi"
        >हिंदी</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="bn"
        >বাংলা</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="th"
        >ภาษาไทย</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_cn"
        >中文 – 简体</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_tw"
        >中文 – 繁體</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ja"
        >日本語</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ko"
        >한국어</a>
    </li>
    
  </ul>
</devsite-language-selector>

  </nav>
</div>
          
        </devsite-footer-utility>
        <devsite-panel></devsite-panel>
        
      </section></section>
    <devsite-sitemask></devsite-sitemask>
    <devsite-snackbar></devsite-snackbar>
    <devsite-tooltip ></devsite-tooltip>
    <devsite-heading-link></devsite-heading-link>
    <devsite-analytics>
      
        <script type="application/json" analytics>[]</script>
<script type="application/json" tag-management>{&#34;at&#34;: &#34;True&#34;, &#34;ga4&#34;: [], &#34;ga4p&#34;: [], &#34;gtm&#34;: [{&#34;id&#34;: &#34;GTM-TC2MQKS8&#34;, &#34;purpose&#34;: 0}], &#34;parameters&#34;: {&#34;internalUser&#34;: &#34;False&#34;, &#34;language&#34;: {&#34;machineTranslated&#34;: &#34;True&#34;, &#34;requested&#34;: &#34;de&#34;, &#34;served&#34;: &#34;de&#34;}, &#34;pageType&#34;: &#34;article&#34;, &#34;projectName&#34;: &#34;Gemini API&#34;, &#34;signedIn&#34;: &#34;False&#34;, &#34;tenant&#34;: &#34;googledevai&#34;, &#34;recommendations&#34;: {&#34;sourcePage&#34;: &#34;&#34;, &#34;sourceType&#34;: 0, &#34;sourceRank&#34;: 0, &#34;sourceIdenticalDescriptions&#34;: 0, &#34;sourceTitleWords&#34;: 0, &#34;sourceDescriptionWords&#34;: 0, &#34;experiment&#34;: &#34;&#34;}, &#34;experiment&#34;: {&#34;ids&#34;: &#34;&#34;}}}</script>
      
    </devsite-analytics>
    
      <devsite-badger></devsite-badger>
    
    
    <script nonce="zHnrxSDVQMQPCI141ghbRMGA1vKZ9h">
  
  (function(d,e,v,s,i,t,E){d['GoogleDevelopersObject']=i;
    t=e.createElement(v);t.async=1;t.src=s;E=e.getElementsByTagName(v)[0];
    E.parentNode.insertBefore(t,E);})(window, document, 'script',
    'https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/googledevai/js/app_loader.js', '[59,"de",null,"/js/devsite_app_module.js","https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625","https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/googledevai","https://googledevai-dot-devsite-v2-prod-3p.appspot.com",null,null,["/_pwa/googledevai/manifest.json","https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/images/video-placeholder.svg","https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/googledevai/images/favicon-new.png","/_static/googledevai/images/lockup-new.svg","https://fonts.googleapis.com/css?family=Google+Sans:400,500|Roboto:400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700&display=swap"],1,null,[1,6,8,12,14,17,21,25,50,52,63,70,75,76,80,87,91,92,93,97,98,100,101,102,103,104,105,107,108,109,110,112,113,116,117,118,120,122,124,125,126,127,129,130,131,132,133,134,135,136,138,140,141,147,148,149,151,152,156,157,158,159,161,163,164,168,169,170,179,180,182,183,186,191,193,196],"AIzaSyCNm9YxQumEXwGJgTDjxoxXK6m1F-9720Q","AIzaSyCc76DZePGtoyUjqKrLdsMGk_ry7sljLbY","ai.google.dev","AIzaSyB9bqgQ2t11WJsOX8qNsCQ6U-w91mmqF-I","AIzaSyAdYnStPdzjcJJtQ0mvIaeaMKj7_t6J_Fg",null,null,null,["Profiles__enable_awarding_url","Search__enable_dynamic_content_confidential_banner","MiscFeatureFlags__enable_explain_this_code","Profiles__enable_public_developer_profiles","Profiles__enable_page_saving","Search__enable_page_map","Cloud__enable_cloud_shell_fte_user_flow","Profiles__enable_completecodelab_endpoint","EngEduTelemetry__enable_engedu_telemetry","Search__enable_ai_eligibility_checks","Cloud__enable_cloudx_experiment_ids","Cloud__enable_llm_concierge_chat","MiscFeatureFlags__developers_footer_dark_image","Search__enable_suggestions_from_borg","Cloud__enable_cloud_facet_chat","Profiles__enable_release_notes_notifications","Profiles__enable_recognition_badges","Experiments__reqs_query_experiments","Cloud__enable_legacy_calculator_redirect","MiscFeatureFlags__enable_view_transitions","MiscFeatureFlags__enable_variable_operator","BookNav__enable_tenant_cache_key","Profiles__enable_profile_collections","DevPro__enable_cloud_innovators_plus","TpcFeatures__enable_mirror_tenant_redirects","Profiles__enable_developer_profiles_callout","CloudShell__cloud_shell_button","MiscFeatureFlags__enable_firebase_utm","Cloud__enable_free_trial_server_call","Profiles__enable_complete_playlist_endpoint","Profiles__require_profile_eligibility_for_signin","MiscFeatureFlags__developers_footer_image","MiscFeatureFlags__enable_project_variables","MiscFeatureFlags__emergency_css","CloudShell__cloud_code_overflow_menu","Cloud__enable_cloud_shell","Profiles__enable_dashboard_curated_recommendations","Cloud__enable_cloud_dlp_service","Analytics__enable_clearcut_logging","TpcFeatures__enable_required_headers","OnSwitch__enable","DevPro__enable_developer_subscriptions","Cloud__enable_cloudx_ping","Concierge__enable_pushui"],null,null,"AIzaSyA58TaKli1DculwmAmbpzLVGuWc8eCQgQc","https://developerscontentserving-pa.googleapis.com","AIzaSyDWBU60w0P9hEkr29kkksYs8Z7gvZ8u_wc","https://developerscontentsearch-pa.googleapis.com",2,4,null,"https://developerprofiles-pa.googleapis.com",[59,"googledevai","Google AI for Developers","ai.google.dev",null,"googledevai-dot-devsite-v2-prod-3p.appspot.com",null,null,[null,1,null,null,null,null,null,null,null,null,null,[1],null,null,null,null,null,null,[1],null,null,null,null,[1,null,1],[1,1,null,1,1]],null,[73,null,null,null,null,null,"/images/lockup-new.svg","/images/touchicon-180-new.png",null,null,null,null,1,1,null,null,null,null,null,null,null,1,null,null,null,"/images/lockup-dark-theme-new.svg",[]],[],null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,[[],[1,1]],[[null,null,null,null,null,["GTM-TC2MQKS8"],null,null,null,null,null,[["GTM-TC2MQKS8",1]],1]],null,4]]')
  
</script>
    <devsite-a11y-announce></devsite-a11y-announce>
  </body>
</html>